<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.9.1: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7434 2012-05-11 21:06:27Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { /* line numbers */
  color: grey;
}

.code {
  background-color: #eeeeee
}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<div class="section" id="version-v6r9p25">
<h1>Version v6r9p25</h1>
<div class="section" id="ts">
<h2>TS</h2>
<div class="section" id="bugfix">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - fixes for processing of derived transformations</li>
</ul>
</blockquote>
</div>
<div class="section" id="change">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - changed default timeout values for service calls</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p24">
<h1>Version v6r9p24</h1>
<div class="section" id="id1">
<h2>TS</h2>
<div class="section" id="id2">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - in moveFilesToDerivedTransformation() set file status to Moved-&lt;prod&gt;</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p23">
<h1>Version v6r9p23</h1>
<div class="section" id="core">
<h2>Core</h2>
<div class="section" id="id3">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - improper configuration prevents a fresh new installation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="wms">
<h2>WMS</h2>
<div class="section" id="id4">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PilotDirector - Operations Helper non-instantiated</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p22">
<h1>Version v6r9p22</h1>
<div class="section" id="id5">
<h2>WMS</h2>
<div class="section" id="id6">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PilotDirector - allow to properly define extensions to be installed by the Pilot differently to those installed at the server</li>
<li>Watchdog - convert pid to string in ProcessMonitor</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id7">
<h2>TS</h2>
<div class="section" id="id8">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - splitting files in chunks</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="dms">
<h2>DMS</h2>
<div class="section" id="id9">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>update dirac-dms-xxx commands to use the new RMS client, strip lines when reading LFNs from a file</li>
</ul>
</blockquote>
</div>
<div class="section" id="feature">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-create-removal-request command</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p21">
<h1>Version v6r9p21</h1>
<div class="section" id="id10">
<h2>TS</h2>
<div class="section" id="id11">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Transformation(Client,DB,Manager) - restored FileCatalog compliant interface</li>
<li>TransformationDB - fix in __insertIntoExistingTransformationFiles()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p20">
<h1>Version v6r9p20</h1>
<div class="section" id="id12">
<h2>Core</h2>
<div class="section" id="id13">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyUpload - an on the fly upload does not require a proxy to exist</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id14">
<h2>DMS</h2>
<div class="section" id="id15">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FailoverTransfer - recording the sourceSE in case of failover transfer request</li>
</ul>
</blockquote>
</div>
<div class="section" id="id16">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - use compareAdler() for checking checksum</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id17">
<h2>WMS</h2>
<div class="section" id="id18">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessMonitor - some fixes added, printout when &lt;1 s of consumed CPU is found</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="transformation">
<h2>Transformation</h2>
<div class="section" id="id19">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - fixed return value in moveFilesToDerivedTransformation()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="rms">
<h2>RMS</h2>
<div class="section" id="id20">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CleanReqDBAgent - now() -&gt; utcnow() in initialize()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="resources">
<h2>Resources</h2>
<div class="section" id="id21">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - fix the parsing of CE status if no jobs are available</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p19">
<h1>Version v6r9p19</h1>
<div class="section" id="id22">
<h2>DMS</h2>
<div class="section" id="id23">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog/DirectoryMetadata - inherited metadata is used while selecting directories in findDirIDsByMetadata()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p18">
<h1>Version v6r9p18</h1>
<div class="section" id="id24">
<h2>DMS</h2>
<div class="section" id="id25">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSSubmitAgent, FTSRequest - fixes the staging mechanism in the FTS transfer submission</li>
</ul>
</blockquote>
</div>
<div class="section" id="id26">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransferDBMonitoringHandler - added getFilesForChannel(), resetFileChannelStatus()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p17">
<h1>Version v6r9p17</h1>
<div class="section" id="accounting">
<h2>Accounting</h2>
<div class="section" id="id27">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataStoreClient - send accounting records in batches of 1000 records instead of 100</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id28">
<h2>DMS:</h2>
<div class="section" id="id29">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FailoverTransfer - catalog name from list to string</li>
<li>FTSSubmitAgent, FTSRequest - handle FTS3 as new protocol and fix bad submission time</li>
<li>FTSSubmitAgent, FTSRequest - do not submit FTS transfers for staging files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id30">
<h2>WMS</h2>
<div class="section" id="id31">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - do not check enabled when TQs are requested from Directors</li>
<li>TaskQueueDB - check for Enabled in the TaskQueues when inserting jobs to print an alert</li>
</ul>
</blockquote>
</div>
<div class="section" id="id32">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - each TQ can have at most 5k jobs, if beyond the limit create a new TQ to prevent long matching times when there are way too many jobs in a single TQ</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p16">
<h1>Version v6r9p16</h1>
<div class="section" id="id33">
<h2>TS</h2>
<div class="section" id="id34">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>typos in TransformationCleaningAgent.py</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id35">
<h2>DMS</h2>
<div class="section" id="id36">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DownloadInputData - try to download only Cached replicas</li>
</ul>
</blockquote>
</div>
<div class="section" id="id37">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DownloadInputData - check the available disk space in the right input data directory</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p15">
<h1>Version v6r9p15</h1>
<div class="section" id="id38">
<h2>Core</h2>
<div class="section" id="id39">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MySQL - do not decrease the retry counter after ping failure</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id40">
<h2>DMS</h2>
<div class="section" id="id41">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - fix error string when removing a non existing file (was incompatible with the LHCb BK client).</li>
</ul>
</blockquote>
</div>
<div class="section" id="id42">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FC/DirectoryMetadata - Speed up findFilesByMetadataWeb when many files match</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id43">
<h2>WMS</h2>
<div class="section" id="id44">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobReport - minor fix ( removed unused imports )</li>
<li>JobMonitoring(JobStateUpdate)Handler - jobID argument can be either string, int or long</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id45">
<h2>TS</h2>
<div class="section" id="id46">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileReport - minor fix ( inherits object )</li>
</ul>
</blockquote>
</div>
<div class="section" id="id47">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - change status of Moved files to a deterministic value</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p14">
<h1>Version v6r9p14</h1>
<div class="section" id="id48">
<h2>DMS</h2>
<div class="section" id="id49">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSDB - changed schema: removing FTSSite table. From now on FTS sites would be read from CS Resources</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p13">
<h1>Version v6r9p13</h1>
<p>FIX: included fixes from v6r8p26 patch release</p>
</div>
<div class="section" id="version-v6r9p12">
<h1>Version v6r9p12</h1>
<p>FIX: included fixes from v6r8p25 patch release</p>
</div>
<div class="section" id="version-v6r9p11">
<h1>Version v6r9p11</h1>
<div class="section" id="id50">
<h2>DMS</h2>
<div class="section" id="id51">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - in __resolveFTSServer() type &quot;=&quot; -&gt; &quot;==&quot;</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p10">
<h1>Version v6r9p10</h1>
<p>FIX: included fixes from v6r8p24 patch release</p>
<div class="section" id="id52">
<h2>Core</h2>
<div class="section" id="id53">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StateMachine utility</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id54">
<h2>DMS</h2>
<div class="section" id="id55">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>in RegisterFile operation handler</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="interfaces">
<h2>Interfaces</h2>
<div class="section" id="id56">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - in splitInputData() consider only Active replicas</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p9">
<h1>Version v6r9p9</h1>
<div class="section" id="id57">
<h2>RMS</h2>
<div class="section" id="id58">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDB - added getRequestFileStatus(), getRequestName() methods</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p8">
<h1>Version v6r9p8</h1>
<div class="section" id="id59">
<h2>DMS</h2>
<div class="section" id="id60">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDB - get correct digest ( short request description ) of a request</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p7">
<h1>Version v6r9p7</h1>
<p>FIX: included fixes from v6r8p23 patch release</p>
<div class="section" id="rss">
<h2>RSS</h2>
<div class="section" id="id61">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SpaceTokenOccupancyPolicy - SpaceToken Policy decision was based on percentage by mistake</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id62">
<h2>RMS</h2>
<div class="section" id="id63">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - setting space tokens for newly created FTSJobs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id64">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>new scripts dirac-dms-ftsdb-summary, dirac-dms-show-ftsjobs</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p6">
<h1>Version v6r9p6</h1>
<div class="section" id="id65">
<h2>DMS</h2>
<div class="section" id="id66">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-add-ftssite - missing import</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id67">
<h2>RMS</h2>
<div class="section" id="id68">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RequestDB, ReqManagerHandler - added getRequestStatus() method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id69">
<h2>TS</h2>
<div class="section" id="id70">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixes when using new RequestClient with the TransformationCleaningAgent</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id71">
<h2>WMS</h2>
<div class="section" id="id72">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>typo in SandboxStoreHandler transfer_fromClient() method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p5">
<h1>Version v6r9p5</h1>
<div class="section" id="id73">
<h2>DMS</h2>
<div class="section" id="id74">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>missing proxy in service env in the FTSManager service. By default service will use DataManager proxy refreshed every 6 hours.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id75">
<h2>Resources</h2>
<div class="section" id="id76">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - new checkAccess policy: split the self.checkMethods in self.okMethods. okMethods are the methods that do not use the physical SE. The isValid returns S_OK for all those immediately</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id77">
<h2>RSS</h2>
<div class="section" id="id78">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SpaceTokenOccupancyPolicy - Policy that now takes into account absolute values for the space left</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id79">
<h2>TS</h2>
<div class="section" id="id80">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - will look for both old and new RMS</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p4">
<h1>Version v6r9p4</h1>
<div class="section" id="stager">
<h2>Stager</h2>
<div class="section" id="id81">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Stager API: dirac-stager-monitor-file, dirac-stager-monitor-jobs, dirac-stager-monitor-requests, dirac-stager-show-stats</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p3">
<h1>Version v6r9p3</h1>
<div class="section" id="id82">
<h2>Transformation</h2>
<div class="section" id="id83">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaning Agent status was set to 'Deleted' instead of 'Cleaned'</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p2">
<h1>Version v6r9p2</h1>
<div class="section" id="id84">
<h2>RSS</h2>
<div class="section" id="id85">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>removed old &amp; unused code</li>
</ul>
</blockquote>
</div>
<div class="section" id="id86">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added Component family tables and statuses</li>
<li>allow RSS policies match wild cards on CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id87">
<h2>WMS</h2>
<div class="section" id="id88">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FailoverTransfer,JobWrapper - proper propagation of file metadata</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p1">
<h1>Version v6r9p1</h1>
<div class="section" id="id89">
<h2>RMS</h2>
<div class="section" id="id90">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSJob - add staging flag in in submitFTS2</li>
<li>Changes in WMS (FailoverTransfer, JobReport, JobWrapper, SandboxStoreHandler) and TS (FileReport) to follow the new RMS.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id91">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - update rwAccessValidStamp, update ftsGraphValidStamp, new option for staging files before submission, better log handling here and there</li>
<li>Full CRUD support in RMS.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id92">
<h2>RSS</h2>
<div class="section" id="id93">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ResourceManagementDB - new table ErrorReportBuffer</li>
<li>new ResourceManagementClient methods - insertErrorReportBuffer, selectErrorReportBuffer, deleteErrorReportBuffer</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9">
<h1>Version v6r9</h1>
<p>NEW: Refactored Request Management System, related DMS agents and FTS management</p>
<blockquote>
components</blockquote>
</div>
<div class="section" id="version-v6r8p28">
<h1>Version v6r8p28</h1>
<div class="section" id="id94">
<h2>Core</h2>
<div class="section" id="id95">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestHandler - the lock Name includes ActionType/Action</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id96">
<h2>DMS</h2>
<div class="section" id="id97">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-filecatalog-cli - prevent exception in case of missing proxy</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p27">
<h1>Version v6r8p27</h1>
<div class="section" id="id98">
<h2>DMS</h2>
<div class="section" id="id99">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-add-file - fixed typo item -&gt; items</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p26">
<h1>Version v6r8p26</h1>
<div class="section" id="id100">
<h2>Core</h2>
<div class="section" id="id101">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RequestHandler - added getServiceOption() to properly resolve inherited options in the global service handler initialize method</li>
<li>FileCatalogHandler, StorageElementHandler - use getServiceOption()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p25">
<h1>Version v6r8p25</h1>
<p>FIX: included fixes from v6r7p40 patch release</p>
<div class="section" id="id102">
<h2>Resources</h2>
<div class="section" id="id103">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - do not account gfal_ls operations</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p24">
<h1>Version v6r8p24</h1>
<p>FIX: included fixes from v6r7p39 patch release</p>
<div class="section" id="id104">
<h2>Core</h2>
<div class="section" id="id105">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteSEMapping was returning wrong info</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id106">
<h2>DMS</h2>
<div class="section" id="id107">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - choose explicitly target FTS point for RAL and CERN</li>
<li>StrategyHandler - wrong return value in __getRWAccessForSE()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id108">
<h2>Resources</h2>
<div class="section" id="id109">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - do not account gfal_ls operations any more</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p23">
<h1>Version v6r8p23</h1>
<p>FIX: included fixes from v6r7p37 patch release</p>
<div class="section" id="id110">
<h2>TS</h2>
<div class="section" id="id111">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - allow tasks made with ProbInFC files</li>
<li>TransformationCleaingAgent,Client - correct setting of transformation status while cleaning</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p22">
<h1>Version v6r8p22</h1>
<p>FIX: included fixes from v6r7p36 patch release</p>
</div>
<div class="section" id="version-v6r8p21">
<h1>Version v6r8p21</h1>
<div class="section" id="id112">
<h2>DMS</h2>
<div class="section" id="id113">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog/DirectoryMetadata - even if there is no meta Selection the path should be considered when getting Compatible Metadata</li>
<li>FileCatalog/DirectoryNodeTree - findDir will return S_OK( '' ) if dir not found, always return the same error from DirectoryMetadata in this case.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id114">
<h2>RSS</h2>
<div class="section" id="id115">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DowntimeCommand - use UTC time stamps</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id116">
<h2>TS</h2>
<div class="section" id="id117">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - in _getTransformationFiles() get also ProbInFC files in addition to Used</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p20">
<h1>Version v6r8p20</h1>
<div class="section" id="id118">
<h2>Stager</h2>
<div class="section" id="id119">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Stager API: dirac-stager-monitor-file, dirac-stager-monitor-jobs, dirac-stager-monitor-requests, dirac-stager-show-stats</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p19">
<h1>Version v6r8p19</h1>
<div class="section" id="id120">
<h2>Transformation</h2>
<div class="section" id="id121">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaning Agent status was set to 'Deleted' instead of 'Cleaned'</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p18">
<h1>Version v6r8p18</h1>
<div class="section" id="id122">
<h2>TS</h2>
<div class="section" id="id123">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - regression in __cleanCache()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p17">
<h1>Version v6r8p17</h1>
<p>FIX: included fixes from v6r7p32 patch release</p>
<div class="section" id="id124">
<h2>WMS</h2>
<div class="section" id="id125">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - for accidentally stopped jobs ExecTime can be not set, set it to CPUTime for the accounting purposes in this case</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p16">
<h1>Version v6r8p16</h1>
<p>FIX: included fixes from v6r7p31 patch release</p>
<div class="section" id="id126">
<h2>WMS</h2>
<div class="section" id="id127">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - fixed a bug in the negative matching conditions SQL construction</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id128">
<h2>RSS</h2>
<div class="section" id="id129">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Minor changes to ensure consistency if ElementInspectorAgent and users interact simultaneously with the same element</li>
<li>SummarizeLogsAgent - the logic of the agent was wrong, the agent has been re-written.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id130">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>removed DatabaseCleanerAgent ( to be uninstalled if already installed )</li>
</ul>
</blockquote>
</div>
<div class="section" id="id131">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>improved doc strings of PEP, PDP modules ( part of PolicySystem )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p15">
<h1>Version v6r8p15</h1>
<div class="section" id="id132">
<h2>Core</h2>
<div class="section" id="id133">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - fix invalid information when doing dirac-proxy-info without CS ( in getCredentials() )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id134">
<h2>RSS</h2>
<div class="section" id="id135">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>PDP, PEP - added support for option &quot;doNotCombineResult&quot; on PDP</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p14">
<h1>Version v6r8p14</h1>
<div class="section" id="id136">
<h2>Core</h2>
<div class="section" id="id137">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-deploy-scripts - can now work with the system python</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id138">
<h2>WMS</h2>
<div class="section" id="id139">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Executor/InputData - Add extra check for LFns in InputData optimizer, closes #1472</li>
</ul>
</blockquote>
</div>
<div class="section" id="id140">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-cpu-normalization - added -R option to modify a given configuration file</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id141">
<h2>Transformation</h2>
<div class="section" id="id142">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - bug in __cleanCache() dict modified in a loop</li>
</ul>
</blockquote>
</div>
<div class="section" id="id143">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - add possibility to kick a transformation (not skip it if no unused files), by touching a file in workDirectory</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p13">
<h1>Version v6r8p13</h1>
<div class="section" id="id144">
<h2>Transformation</h2>
<div class="section" id="id145">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - restored import of StringType</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p12">
<h1>Version v6r8p12</h1>
<p>NEW: Applied patches from v6r7p29</p>
<div class="section" id="id146">
<h2>WMS</h2>
<div class="section" id="id147">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobDB - check if SystemConfig is present in the job definition and convert it into Platform</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id148">
<h2>DMS</h2>
<div class="section" id="id149">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - do not get metadata of files when getting files in a directory if not strictly necessary</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id150">
<h2>RSS</h2>
<div class="section" id="id151">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ported from LHCb PublisherHandler for RSS web views</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p11">
<h1>Version v6r8p11</h1>
<p>NEW: Applied patches from v6r7p27</p>
<div class="section" id="id152">
<h2>RSS</h2>
<div class="section" id="id153">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SpaceTokenOccupancyPolicy - ported from LHCbDIRAC</li>
<li>db._checkTable done on service initialization ( removed dirac-rss-setup script doing it )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id154">
<h2>Transformation</h2>
<div class="section" id="id155">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - reset oJob for each task in prepareTransformationTasks()</li>
<li>ValidateOutputDataAgent - typo fixed in getTransformationDirectories()</li>
<li>TransformationManagerHandler - use CS to get files statuses not to include in processed file fraction calculation for the web monitoring pages</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p10">
<h1>Version v6r8p10</h1>
<p>NEW: Applied patches from v6r7p27</p>
</div>
<div class="section" id="version-v6r8p9">
<h1>Version v6r8p9</h1>
<div class="section" id="id156">
<h2>DMS</h2>
<div class="section" id="id157">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent,dirac-dms-show-se-status, ResourceStatus,TaskManager - fixes needed for DMS components to use RSS status information</li>
</ul>
</blockquote>
</div>
<div class="section" id="id158">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - allow to get metadata for an LFN+SE as well as PFN+SE</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p8">
<h1>Version v6r8p8</h1>
<div class="section" id="id159">
<h2>RSS</h2>
<div class="section" id="id160">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-rss-setup - added missing return of S_OK() result</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p7">
<h1>Version v6r8p7</h1>
<p>NEW: Applied patches from v6r7p24</p>
<div class="section" id="id161">
<h2>DMS</h2>
<div class="section" id="id162">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - bug in addFile()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id163">
<h2>RSS</h2>
<div class="section" id="id164">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixed script dirac-rss-set-token, broken in the current release.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id165">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Statistics module - will be used in the future to provide detailed information from the History of the elements</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p6">
<h1>Version v6r8p6</h1>
<p>NEW: Applied patches from v6r7p23</p>
<div class="section" id="id166">
<h2>Transformation</h2>
<div class="section" id="id167">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - allow prepareTransformationTasks to proceed if no OutputDataModule is defined</li>
<li>TransformationDB - remove INDEX(TaskID) from TransformationTasks. It produces a single counter for the whole table instead of one per TransformationID</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id168">
<h2>WMS</h2>
<div class="section" id="id169">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>WMSUtilities - to allow support for EMI UI's for pilot submission we drop support for glite 3.1</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p5">
<h1>Version v6r8p5</h1>
<p>NEW: Applied patches from v6r7p22</p>
<div class="section" id="id170">
<h2>RSS</h2>
<div class="section" id="id171">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>removed old tests and commented out files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id172">
<h2>WMS</h2>
<div class="section" id="id173">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PoolXMLCatalog - proper addFile usage</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id174">
<h2>Transformation</h2>
<div class="section" id="id175">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - clear replica cache when flushing or setting a file in the workdirectory</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p4">
<h1>Version v6r8p4</h1>
<div class="section" id="id176">
<h2>Transformation</h2>
<div class="section" id="id177">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>The connection to the jobManager is done only at submission time</li>
<li>Jenkins complaints fixes</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id178">
<h2>WMS</h2>
<div class="section" id="id179">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobDB - CPUtime -&gt; CPUTime</li>
<li>Jenkins complaints fixes</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p3">
<h1>Version v6r8p3</h1>
<div class="section" id="id180">
<h2>DMS</h2>
<div class="section" id="id181">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p2">
<h1>Version v6r8p2</h1>
<div class="section" id="id182">
<h2>DMS:</h2>
<div class="section" id="id183">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - remove check for opening a session in __init__ as credentials are not yet set</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id184">
<h2>Transformation</h2>
<div class="section" id="id185">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>reuse RPC clients in Transformation System</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p1">
<h1>Version v6r8p1</h1>
<div class="section" id="id186">
<h2>Core</h2>
<div class="section" id="id187">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-deploy-scripts - restored regression w.r.t. support of scripts starting with &quot;d&quot;</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id188">
<h2>DMS</h2>
<div class="section" id="id189">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - two typos fixed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8">
<h1>Version v6r8</h1>
<p>CHANGE: Several fixes backported from the v7r0 integration branch</p>
<div class="section" id="id190">
<h2>Core</h2>
<div class="section" id="id191">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - proxy-info showing an error when there's no CS</li>
</ul>
</blockquote>
</div>
<div class="section" id="id192">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DictCache - uses global LockRing to avoid locks in multiprocessing</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id193">
<h2>DMS</h2>
<div class="section" id="id194">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - inside loop filter out waiting files dictionary</li>
<li>dirac-admin-allow-se - there was a continue that was skipping the complete loop for ARCHIVE elements</li>
</ul>
</blockquote>
</div>
<div class="section" id="id195">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - test return code in startsess lfc calls</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id196">
<h2>WMS:</h2>
<div class="section" id="id197">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>OptimizerExecutor, InputData, JobScheduling - check that site candidates have all the replicas</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id198">
<h2>RSS:</h2>
<div class="section" id="id199">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceStatus, RSSCacheNoThread - ensure that locks are always released</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id200">
<h2>Transformation</h2>
<div class="section" id="id201">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - site in the job definition is taken into account when submitting</li>
<li>ValidateOutputDataAgent - self not needed for static methods</li>
</ul>
</blockquote>
</div>
<div class="section" id="id202">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Transformation - get the allowed plugins from the CS /Operations/Transformations/AllowedPlugins</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p40">
<h1>Version v6r7p40</h1>
<div class="section" id="id203">
<h2>Resources</h2>
<div class="section" id="id204">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement class was not properly passing the lifetime argument for prestageFile method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p39">
<h1>Version v6r7p39</h1>
<div class="section" id="id205">
<h2>Core</h2>
<div class="section" id="id206">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Grid - in executeGridCommand() allow environment script with arguments needed for ARC client</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id207">
<h2>DMS</h2>
<div class="section" id="id208">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DFC SEManager - DIP Storage can have a list of ports now</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id209">
<h2>Resources</h2>
<div class="section" id="id210">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - few fixes after debugging</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p38">
<h1>Version v6r7p38</h1>
<div class="section" id="id211">
<h2>Core</h2>
<div class="section" id="id212">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DISET FileHelper, TransferClient - possibility to switch off check sum</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id213">
<h2>Resources</h2>
<div class="section" id="id214">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - use CE name in the pilot reference construction</li>
</ul>
</blockquote>
</div>
<div class="section" id="id215">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - first version</li>
<li>StorageFactory - possibility to pass extra protocol parameters to storage object</li>
<li>DIPStorage - added CheckSum configuration option</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id216">
<h2>WMS</h2>
<div class="section" id="id217">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - if ExecTime &lt; CPUTime make it equal to CPUTime</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p37">
<h1>Version v6r7p37</h1>
<div class="section" id="framework">
<h2>Framework</h2>
<div class="section" id="id218">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>NotificationDB - typos in SQL statement in purgeExpiredNotifications()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id219">
<h2>WMS</h2>
<div class="section" id="id220">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - report only error code as ApplicationError parameter when payload finishes with errors</li>
</ul>
</blockquote>
</div>
<div class="section" id="id221">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobCleaningAgent - added scheduling sandbox LFN removal request when deleting jobs</li>
<li>SiteDirector - possibility to specify extensions to be installed in pilots in /Operations/Pilots/Extensions option in order not to install all the server side extensions</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id222">
<h2>DMS</h2>
<div class="section" id="id223">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogFactory - use service path as default URL</li>
<li>FileCatalogFactory - use ObjectLoader to import catalog clients</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="sms">
<h2>SMS</h2>
<div class="section" id="id224">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB, dirac-stager-monitor-jobs - small bug fixes ( sic, Daniela )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id225">
<h2>Resources</h2>
<div class="section" id="id226">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - if pilot reference is not registered, this is not an error of the StalledJobAgent, no log.error() in  this case</li>
</ul>
</blockquote>
</div>
<div class="section" id="id227">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DIPStorage - added possibility to specify a list of ports for multiple service end-points</li>
<li>InProcessComputingElement - demote log message when payload failure to warning, the job will fail anyway</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id228">
<h2>RMS</h2>
<div class="section" id="id229">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RequestTask - ensure that tasks are executed with user credentials even with respect to queries to DIRAC services ( useServerCertificate flag set to false )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p36">
<h1>Version v6r7p36</h1>
<div class="section" id="id230">
<h2>WMS</h2>
<div class="section" id="id231">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CREAMCE, SiteDirector - make sure that the tmp executable is removed</li>
</ul>
</blockquote>
</div>
<div class="section" id="id232">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - remove sending mails via Notification Service in case of job rescheduling</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id233">
<h2>SMS</h2>
<div class="section" id="id234">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - fix a race condition when old tasks are set failed between stage submission and update.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p35">
<h1>Version v6r7p35</h1>
<div class="section" id="id235">
<h2>Stager</h2>
<div class="section" id="id236">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Stager API: dirac-stager-monitor-file, dirac-stager-monitor-jobs, dirac-stager-monitor-requests, dirac-stager-show-stats</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p34">
<h1>Version v6r7p34</h1>
<div class="section" id="id237">
<h2>Transformation</h2>
<div class="section" id="id238">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaning Agent status was set to 'Deleted' instead of 'Cleaned'</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p33">
<h1>Version v6r7p33</h1>
<div class="section" id="id239">
<h2>Interfaces</h2>
<div class="section" id="id240">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Job.py - in setExecutable() - prevent changing the log file name string type</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="storagemanagement">
<h2>StorageManagement</h2>
<div class="section" id="id241">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - demote the level of several log messages</li>
</ul>
</blockquote>
</div>
<div class="section" id="id242">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB(Handler) - kill staging requests at the same time as killing related jobs, closes #1510</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p32">
<h1>Version v6r7p32</h1>
<div class="section" id="id243">
<h2>DMS</h2>
<div class="section" id="id244">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElementHandler - do not use getDiskSpace utility, use os.statvfs instead</li>
</ul>
</blockquote>
</div>
<div class="section" id="id245">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - in getStageRequests() make MySQL do an UNIQUE selection and use implicit loop to speed up queries for large results</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id246">
<h2>Resources</h2>
<div class="section" id="id247">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>lsfce remote script - use re.search instead of re.match in submitJob() to cope with multipline output</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p31">
<h1>Version v6r7p31</h1>
<div class="section" id="id248">
<h2>WMS</h2>
<div class="section" id="id249">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - make possible more than one SiteDirector (with different pilot identity) attached to a CE, ie sgm and pilot roles. Otherwise one is declaring Aborted the pilots from the other.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p30">
<h1>Version v6r7p30</h1>
<div class="section" id="id250">
<h2>Core</h2>
<div class="section" id="id251">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - in getSetupComponents() typo fixed: agent -&gt; executor</li>
</ul>
</blockquote>
</div>
<div class="section" id="id252">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - added groupProperties field to the getCredentials() report</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p29">
<h1>Version v6r7p29</h1>
<div class="section" id="id253">
<h2>DMS</h2>
<div class="section" id="id254">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-fts-monitor - exit with code -1 in case of error</li>
</ul>
</blockquote>
</div>
<div class="section" id="id255">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - selection metadata is also returned as compatible metadata in the result of getCompatibleMetadata() call</li>
</ul>
</blockquote>
</div>
<div class="section" id="id256">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - added path argument to getCompatibleMetadata() call</li>
<li>FileCatalogClient - added getFileUserMetadata()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id257">
<h2>Resources</h2>
<div class="section" id="id258">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CREAMComputingElement - check globus-url-copy result for errors when retrieving job output</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p28">
<h1>Version v6r7p28</h1>
<div class="section" id="id259">
<h2>DMS</h2>
<div class="section" id="id260">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog/DirectoryMetadata - wrong MySQL syntax</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p27">
<h1>Version v6r7p27</h1>
<div class="section" id="id261">
<h2>Core</h2>
<div class="section" id="id262">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Mail.py - fix of the problem of colons in the mail's body</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id263">
<h2>Interfaces</h2>
<div class="section" id="id264">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Job API - added setSubmitPools(), setPlatform() sets ... &quot;Platform&quot;</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id265">
<h2>WMS</h2>
<div class="section" id="id266">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - use SystemConfig as Platform for matching ( if Platform is not set explicitly</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id267">
<h2>Resources</h2>
<div class="section" id="id268">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - use ssh host ( and not CE name ) in the pilot reference</li>
<li>SSHGEComputingElement - forgotten return statement in _getJobOutputFiles()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id269">
<h2>Framework</h2>
<div class="section" id="id270">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-sys-sendmail - email's body can be taken from pipe. Command's argument in this case will be interpreted as a destination address</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p26">
<h1>Version v6r7p26</h1>
<div class="section" id="id271">
<h2>DMS</h2>
<div class="section" id="id272">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - status names Read/Write -&gt; ReadAccess/WriteAccess</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p25">
<h1>Version v6r7p25</h1>
<div class="section" id="id273">
<h2>Core</h2>
<div class="section" id="id274">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - in getCredentials() failure to contact CS is not fatal, can happen when calling dirac-proxy-init -x, for example</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p24">
<h1>Version v6r7p24</h1>
<div class="section" id="id275">
<h2>DMS</h2>
<div class="section" id="id276">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - added getFilesByMetadataWeb() to allow pagination in the Web catalog browser</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id277">
<h2>WMS</h2>
<div class="section" id="id278">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>WMSAdministrator, DiracAdmin - get banned sites list by specifying the status to the respective jobDB call</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p23">
<h1>Version v6r7p23</h1>
<div class="section" id="id279">
<h2>Transformation</h2>
<div class="section" id="id280">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - badly formatted error log message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id281">
<h2>RMS</h2>
<div class="section" id="id282">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - speedup the lookup of requests</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id283">
<h2>WMS</h2>
<div class="section" id="id284">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-job-delete - in job selection by group</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id285">
<h2>DMS</h2>
<div class="section" id="id286">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - getDirectorySize made compatible with DFC</li>
<li>LcgFileCatalogClient - proper call of __getClientCertInfo()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p22">
<h1>Version v6r7p22</h1>
<div class="section" id="id287">
<h2>Transformation</h2>
<div class="section" id="id288">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>InputDataAgent - treats only suitable transformations, e.g. not the extendable ones.</li>
<li>TransformationAgent - make some methods more public for easy overload</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p21">
<h1>Version v6r7p21</h1>
<div class="section" id="id289">
<h2>Core</h2>
<div class="section" id="id290">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Shifter - pass filePath argument when downloading proxy</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p20">
<h1>Version v6r7p20</h1>
<div class="section" id="id291">
<h2>DMS</h2>
<div class="section" id="id292">
<h3>Bugfix</h3>
<blockquote>
<ul>
<li><p class="first">StorageElement, SRM2Storage - support for '<a href="#id293"><span class="problematic" id="id294">*</span></a>Access' statuses, checking results of return structures</p>
<div class="system-message" id="id293">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">&lt;string&gt;</tt>, line 1732); <em><a href="#id294">backlink</a></em></p>
<p>Inline emphasis start-string without end-string.</p>
</div>
</li>
</ul>
</blockquote>
</div>
<div class="section" id="id295">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - move out SourceSE checking to TransferAgent</li>
<li>ReplicaManager, InputDataAgent - get active replicas</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id296">
<h2>RSS</h2>
<div class="section" id="id297">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Synchronizer - moved to ResourceManager handler</li>
</ul>
</blockquote>
</div>
<div class="section" id="id298">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>set configurable email address on the CS to send the RSS emails</li>
<li>RSSCache without thread in background</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p19">
<h1>Version v6r7p19</h1>
<div class="section" id="id299">
<h2>DMS</h2>
<div class="section" id="id300">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - in putAndRegister() SE.putFile() singleFile argument not used explicitly</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p18">
<h1>Version v6r7p18</h1>
<div class="section" id="id301">
<h2>WMS</h2>
<div class="section" id="id302">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - do not exit the loop over Completed jobs if accounting sending fails</li>
<li>JobManifest - If CPUTime is not set, set it to MaxCPUTime value</li>
</ul>
</blockquote>
</div>
<div class="section" id="id303">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-job-delete - allow to specify jobs to delete by job group and/or in a file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p17">
<h1>Version v6r7p17</h1>
<div class="section" id="id304">
<h2>Resources</h2>
<div class="section" id="id305">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - treat properly &quot;22 SRM_REQUEST_QUEUED&quot; result code</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p16">
<h1>Version v6r7p16</h1>
<div class="section" id="id306">
<h2>DMS</h2>
<div class="section" id="id307">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - do not proceed when the source SE is not valid for read</li>
<li>StorageElement - putFile can take an optional sourceSize argument</li>
<li>ReplicaManager - in removeFile() proper loop on failed replicas</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id308">
<h2>RSS</h2>
<div class="section" id="id309">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SpaceTokenOccupancyCommand, CacheFeederAgent - add timeout when calling lcg_util commands</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id310">
<h2>WMS</h2>
<div class="section" id="id311">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobManifest - take all the SubmitPools defined in the TaskQueueAgent</li>
</ul>
</blockquote>
</div>
<div class="section" id="id312">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - declare jobs stuck in Completed status as Failed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p15">
<h1>Version v6r7p15</h1>
<div class="section" id="id313">
<h2>Core</h2>
<div class="section" id="id314">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SocketInfo - in host identity evaluation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id315">
<h2>DMS</h2>
<div class="section" id="id316">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogHandler - missing import os</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id317">
<h2>Transformation</h2>
<div class="section" id="id318">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobManifest - getting allowed job types from operations() section</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p14">
<h1>Version v6r7p14</h1>
<div class="section" id="id319">
<h2>DMS</h2>
<div class="section" id="id320">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElementProxy - free the getFile space before the next file</li>
<li>StorageElement - added getPFNBase() to comply with the interface</li>
</ul>
</blockquote>
</div>
<div class="section" id="id321">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageElementProxy - removed getParameters(), closes #1280</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id322">
<h2>Interfaces</h2>
<div class="section" id="id323">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac API - allow lists of LFNs in removeFile() and removeReplica()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id324">
<h2>WMS</h2>
<div class="section" id="id325">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobSchedulingAgent(Executor) - allow both BannedSite and BannedSites JDL option</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id326">
<h2>RSS</h2>
<div class="section" id="id327">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ElementInspectorAgent - should only pick elements with rss token ( rs_svc ).</li>
<li>TokenAgent - using 4th element instead of the 5th. Added option to set admin email on the CS.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p13">
<h1>Version v6r7p13</h1>
<div class="section" id="id328">
<h2>Core</h2>
<div class="section" id="id329">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Resources - in getStorageElementSiteMapping() return only sites with non-empty list of SEs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id330">
<h2>DMS</h2>
<div class="section" id="id331">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - restored the dropped logic of using proxy SEs</li>
<li>FileCatalog - fix the UseProxy /LocalSite/Catalog option</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id332">
<h2>Transformation</h2>
<div class="section" id="id333">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - use lower() string comparison in extendTransformation()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p12">
<h1>Version v6r7p12</h1>
<div class="section" id="id334">
<h2>WMS</h2>
<div class="section" id="id335">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobManifest - get AllowedSubmitPools from the /Systems section, not from /Operations</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id336">
<h2>Core</h2>
<div class="section" id="id337">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Resources helper - added getSites(), getStorageElementSiteMapping()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id338">
<h2>DMS</h2>
<div class="section" id="id339">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - do not modify the loop dictionary inside the loop</li>
</ul>
</blockquote>
</div>
<div class="section" id="id340">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - use getStorageElementSiteMapping helper function</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p11">
<h1>Version v6r7p11</h1>
<div class="section" id="id341">
<h2>Core</h2>
<div class="section" id="id342">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - put the use of watchdog in flagging</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p10">
<h1>Version v6r7p10</h1>
<div class="section" id="id343">
<h2>Core</h2>
<div class="section" id="id344">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - returns correct structure in case of timeout, closes #1295, #1294</li>
<li>Logger - cleaned unused imports</li>
</ul>
</blockquote>
</div>
<div class="section" id="id345">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TimeOutExec - dropped unused utility</li>
</ul>
</blockquote>
</div>
<div class="section" id="id346">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Logger - added getLevel() method, closes #1292</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id347">
<h2>RSS</h2>
<div class="section" id="id348">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ElementInspectorAgent - do not use mangled name and removed shifterProxy agentOption</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p9">
<h1>Version v6r7p9</h1>
<div class="section" id="id349">
<h2>Core</h2>
<div class="section" id="id350">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - MySQL Port should be an integer</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p8">
<h1>Version v6r7p8</h1>
<div class="section" id="id351">
<h2>Core</h2>
<div class="section" id="id352">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - consistent timeout error message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id353">
<h2>DMS</h2>
<div class="section" id="id354">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - check file source CEs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id355">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DataIntegrityClient - code beautification</li>
<li>ReplicaManager - do not check file existence if replica information is queried anyway, do not fail if file to be removed does not exist already.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id356">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - added bulk removal</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p7">
<h1>Version v6r7p7</h1>
<p>FIX: Several fixes to allow automatic code documentation</p>
<div class="section" id="id357">
<h2>Core</h2>
<div class="section" id="id358">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - added mysqlPort and mysqlRootUser</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id359">
<h2>DMS</h2>
<div class="section" id="id360">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - set possibility to force the deletion of non existing files</li>
<li>StrategyHandler - better handling of checksum check during scheduling</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p6">
<h1>Version v6r7p6</h1>
<div class="section" id="id361">
<h2>Core</h2>
<div class="section" id="id362">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - restore signal alarm if downloadable file is not found</li>
<li>Subprocess - using Manager proxy object to pass results from the working process</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id363">
<h2>DMS:</h2>
<div class="section" id="id364">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent, TransferAgent - fix the names of the RSS states</li>
</ul>
</blockquote>
</div>
<div class="section" id="id365">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - removed overwride mode</li>
<li>removed obsoleted dirac-dms-remove-lfn-replica, dirac-dms-remove-lfn</li>
</ul>
</blockquote>
</div>
<div class="section" id="id366">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent - filter out sources with checksum mismatch</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id367">
<h2>RSS</h2>
<div class="section" id="id368">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ElementInspectorAgent runs with a variable number of threads which are automatically adjusted</li>
<li>Added policies to force a particular state, can be very convenient to keep something Banned for example.</li>
<li>policy system upgrade, added finer granularity when setting policies and actions</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id369">
<h2>WMS</h2>
<div class="section" id="id370">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobDescription, JobManifest - take values for job parameter verification from Operations CS section</li>
</ul>
</blockquote>
</div>
<div class="section" id="id371">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector- allow to define pilot DN/Group in the agent options</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p5">
<h1>Version v6r7p5</h1>
<div class="section" id="id372">
<h2>Interfaces</h2>
<div class="section" id="id373">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-job-get-output - properly treat the case when output directory is not specified</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p4">
<h1>Version v6r7p4</h1>
<div class="section" id="id374">
<h2>Core</h2>
<div class="section" id="id375">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - avoid that watchdog kills the executor process before it returns itself</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id376">
<h2>Framework</h2>
<div class="section" id="id377">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxuManagerClient - wrong time for caching proxies</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id378">
<h2>RSS</h2>
<div class="section" id="id379">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>removed obsoleted methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id380">
<h2>DMS</h2>
<div class="section" id="id381">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - added findFilesByMetadataDetailed - provides detailed metadata for selected files</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p3">
<h1>Version v6r7p3</h1>
<div class="section" id="id382">
<h2>DMS</h2>
<div class="section" id="id383">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent - logging less verbose</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id384">
<h2>Transformation</h2>
<div class="section" id="id385">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - use the new CS defaults locations</li>
<li>Proper agent initialization</li>
</ul>
</blockquote>
</div>
<div class="section" id="id386">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationPlaugin - in Broadcast plugin added file groupings by number of files, make the TargetSE always defined, even if the SourceSE list contains it</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="resourcestatus">
<h2>ResourceStatus</h2>
<div class="section" id="id387">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Added the shifter's proxy to several agents</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id388">
<h2>RMS</h2>
<div class="section" id="id389">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestContainer - the execution order was not properly set for the single files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id390">
<h2>Framework:</h2>
<div class="section" id="id391">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyManagerClient - proxy time can not be shorter than what was requested</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p2">
<h1>Version v6r7p2</h1>
<div class="section" id="id392">
<h2>Core</h2>
<div class="section" id="id393">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - switch to use CS before checking proxy info</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id394">
<h2>Framework</h2>
<div class="section" id="id395">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-sys-sendmail new command</li>
<li>SystemAdmininistratorCLI - added show host, uninstall, revert commands</li>
<li>SystemAdmininistratorHandler - added more info in getHostInfo()</li>
<li>SystemAdmininistratorHandler - added revertSoftware() interface</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id396">
<h2>Transformation</h2>
<div class="section" id="id397">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - check the status of returned results</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p1">
<h1>Version v6r7p1</h1>
<div class="section" id="id398">
<h2>Core</h2>
<div class="section" id="id399">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - finalize the Watchdog closing internal connections after a command execution</li>
</ul>
</blockquote>
</div>
<div class="section" id="id400">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>add timeout for py(shell,system)Call calls where appropriate</li>
<li>Shifter - use gProxyManager in a way that allows proxy caching</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id401">
<h2>Framework</h2>
<div class="section" id="id402">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyDB - replace instead of delete+insert proxy in __storeVOMSProxy</li>
</ul>
</blockquote>
</div>
<div class="section" id="id403">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ProxyManagerClient - allow to specify validity and caching time separately</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id404">
<h2>DMS</h2>
<div class="section" id="id405">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-add-file - allow LFN: prefix for lfn argument</li>
</ul>
</blockquote>
</div>
<div class="section" id="id406">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent - made multithreaded for better efficiency</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id407">
<h2>WMS</h2>
<div class="section" id="id408">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - fixed selection SQL in __generateTQMatchSQL()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id409">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>OptimizerExecutor - reduce diversity of MinorStatuses for failed executors</li>
</ul>
</blockquote>
</div>
<div class="section" id="id410">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-job-get-output, dirac-wms-job-status - allow to retrieve output for a job group</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id411">
<h2>Resources</h2>
<div class="section" id="id412">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CREAMComputingElement - remove temporary JDL right after the submission</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p21">
<h1>Version v6r6p21</h1>
<div class="section" id="id413">
<h2>DMS</h2>
<div class="section" id="id414">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - use the right signature of cleanMetadataCatalogFiles() call</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p20">
<h1>Version v6r6p20</h1>
<div class="section" id="id415">
<h2>DMS</h2>
<div class="section" id="id416">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RegistrationTask - properly escaped error messages</li>
<li>DirectoryMetadata - use getFileMetadataFields from FileMetadata in addMetadataField()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id417">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>When there is a missing source error spotted during FTS transfer, file should be reset and rescheduled again until maxAttempt (set to 100) is reached</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id418">
<h2>WMS</h2>
<div class="section" id="id419">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobScheduling - fix the site group logic in case of Tier0</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p19">
<h1>Version v6r6p19</h1>
<div class="section" id="id420">
<h2>DMS</h2>
<div class="section" id="id421">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>All DMS agents  - set up agent name in the initialization</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id422">
<h2>Core</h2>
<div class="section" id="id423">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Time - proper interpreting of 0's instead of None</li>
<li>Os.py - protection against failed &quot;df&quot; command execution</li>
</ul>
</blockquote>
</div>
<div class="section" id="id424">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DISET - use cStringIO for ANY read that's longer than 16k (speed improvement) + Less mem when writing data to the net</li>
<li>PlotBase - made a new style class</li>
</ul>
</blockquote>
</div>
<div class="section" id="id425">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - timeout wrapper for subprocess calls</li>
<li>dirac-info prints lcg bindings versions</li>
<li>Subprocess - added debug level log message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id426">
<h2>Framework</h2>
<div class="section" id="id427">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-proxy-init - always check for errors in S_OK/ERROR returned structures</li>
</ul>
</blockquote>
</div>
<div class="section" id="id428">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Do not accept VOMS proxies when uploading a proxy to the proxy manager</li>
</ul>
</blockquote>
</div>
<div class="section" id="id429">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorIntegrator client for collecting info from several hosts</li>
<li>SystemAdministrator - added getHostInfo()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration</h2>
<div class="section" id="id430">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CE2CSAgent - get a fresh copy of the cs data before attempting to modify it, closes #1151</li>
<li>Do not create useless backups due to slaves connecting and disconnecting</li>
<li>Refresher - prevent retrying with 'Insane environment'</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id431">
<h2>Accounting</h2>
<div class="section" id="id432">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DBUtils - take into account invalid values, closes #949</li>
</ul>
</blockquote>
</div>
<div class="section" id="id433">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Accounting/Job - added validation of reported values to cope with the weird Yandex case</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id434">
<h2>DMS</h2>
<div class="section" id="id435">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSSubmitAgent - file for some reason rejected from submission should stay in 'Waiting' in TransferDB.Channel table</li>
<li>FTSRequest - fix in the log printout</li>
<li>FileCatalogCLI - check the result of removeFile call</li>
<li>LcgFileCatalogClient - get rid of LHCb specific VO evaluation</li>
<li>Restored StorageElementProxy functionality</li>
</ul>
</blockquote>
</div>
<div class="section" id="id436">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-add-file removed, dirac-dms-add-files renamed to dirac-dms-add-file</li>
<li>dirac-dms-add-file - added printout</li>
</ul>
</blockquote>
</div>
<div class="section" id="id437">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>New FileCatalogProxy service - a generalization of a deprecated LcgFileCatalog service</li>
<li>FileCatalog(Factory), StorageElement(Factory) - UseProxy flag moved to /Operations and /LocalSite sections</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id438">
<h2>RSS</h2>
<div class="section" id="id439">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-allow/ban-se - allow a SE on Degraded ( Degraded-&gt;Active ) and ban a SE on Probing ( Probing -&gt; Banned ). In practice, Active and Degraded are &quot;usable&quot; states anyway.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id440">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>general reimplementation: New DB schema using python definition of tables, having three big blocks: Site, Resource and Node. MySQLMonkey functionality almost fully covered by DB module, eventually will disappear. Services updated to use new database. Clients updated to use new database. Synchronizer updated to fill the new database. When helpers will be ready, it will need an update. One ElementInspectorAgent, configurable now is hardcoded. New Generic StateMachine using OOP. Commands and Policies simplified. ResourceStatus using internal cache, needs to be tested with real load. Fixes for the state machine Replaced Bad with Degraded status ( outside RSS ). Added &quot;Access&quot; to Read|Write|Check|Remove SE statuses wherever it applies. ResourceStatus returns by default &quot;Active&quot; instead of &quot;Allowed&quot; for CS calls. Caching parameters are defined in the CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id441">
<h2>WMS</h2>
<div class="section" id="id442">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>OptimizerExecutor - failed optimizations will still update the job</li>
<li>JobWrapper - do not attempt to untar directories before having checked if they are tarfiles</li>
</ul>
</blockquote>
</div>
<div class="section" id="id443">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobDB - do not interpret SystemConfig in the WMS/JobDB</li>
<li>JobDB - Use CPUTime JDL only, keep MaxCPUTime for backward compatibility</li>
<li>JobWrapper - use CPUTime job parameter instead of MaxCPUTime</li>
<li>JobAgent - use CEType option instead of CEUniqueID</li>
</ul>
</blockquote>
</div>
<div class="section" id="id444">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - added LFNUserPrefix VO specific Operations option used for building user LFNs</li>
<li>dirac-wms-job-status - get job statuses for jobs in a given job group</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id445">
<h2>SMS</h2>
<div class="section" id="id446">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - when removing unlinked replicas, take into account the case where a staging request had been submitted, but failed</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id447">
<h2>Resources</h2>
<div class="section" id="id448">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>glexecCE - add new possible locations of the glexec binary: OSG specific stuff and in last resort looking in the PATH</li>
<li>LcgFileCatalogClient - in removeReplica() get the needed PFN inside instead of providing it as an argument</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id449">
<h2>TS</h2>
<div class="section" id="id450">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Transformation types definition are moved to the Operations CS section</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id451">
<h2>Interfaces</h2>
<div class="section" id="id452">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - CS option Scratchdir was in LocalSite/LocalSite</li>
<li>Dirac.py - do not define default catalog, use FileCatalog utility instead</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="id453">
<h1>Version v6r6p19</h1>
<div class="section" id="id454">
<h2>DMS</h2>
<div class="section" id="id455">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>All DMS agents  - set up agent name in the initialization</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p18">
<h1>Version v6r6p18</h1>
<div class="section" id="id456">
<h2>Transformation</h2>
<div class="section" id="id457">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>/DIRAC/VOPolicy/OutputDataModule option moved to &lt;Operations&gt;/Transformations/OutputDataModule</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id458">
<h2>Resources</h2>
<div class="section" id="id459">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ComputingElement - properly check if the pilot proxy has VOMS before adding it to the payload when updating it</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id460">
<h2>WMS</h2>
<div class="section" id="id461">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobSanity - fixed misspelled method call SetParam -&gt; SetParameter</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p17">
<h1>Version v6r6p17</h1>
<div class="section" id="id462">
<h2>Transformation</h2>
<div class="section" id="id463">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - corrected  __getDataReplicasRM()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p16">
<h1>Version v6r6p16</h1>
<div class="section" id="id464">
<h2>DMS</h2>
<div class="section" id="id465">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Agents - proper __init__ implementation with arguments passing to the super class</li>
<li>LcgFileCatalogClient - in removeReplica() reload PFN in case it has changed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p15">
<h1>Version v6r6p15</h1>
<div class="section" id="id466">
<h2>Framework</h2>
<div class="section" id="id467">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ErrorMessageMonitor - corrected updateFields call</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id468">
<h2>DMS:</h2>
<div class="section" id="id469">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent completely rewritten in a multithreaded way</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id470">
<h2>Transformation</h2>
<div class="section" id="id471">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputDataAgent - proper instantiation of TransformationClient</li>
</ul>
</blockquote>
</div>
<div class="section" id="id472">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Transformation - several log message promoted from info to notice level</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p14">
<h1>Version v6r6p14</h1>
<div class="section" id="id473">
<h2>Transformation</h2>
<div class="section" id="id474">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Correct instantiation of agents inside several scripts</li>
<li>TransformationAgent - return an entry for all LFNs in __getDataReplicasRM</li>
</ul>
</blockquote>
</div>
<div class="section" id="id475">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - added verbosity to logs</li>
<li>TransformationAgent - missingLFC to MissingInFC as it could be the DFC as well</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id476">
<h2>DMS</h2>
<div class="section" id="id477">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - fix exception reason in registerFiles()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p13">
<h1>Version v6r6p13</h1>
<div class="section" id="id478">
<h2>DMS</h2>
<div class="section" id="id479">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - change RM call from getCatalogueReplicas to getActiveReplicas. Lowering log printouts here and there</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p12">
<h1>Version v6r6p12</h1>
<div class="section" id="id480">
<h2>DMS</h2>
<div class="section" id="id481">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - Replacing &quot;'&quot; by &quot;&quot; in error str set as attribute for a subRequest file. Without that request cannot be updated when some nasty error occurs.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p11">
<h1>Version v6r6p11</h1>
<div class="section" id="id482">
<h2>RMS:</h2>
<div class="section" id="id483">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestClient - log string formatting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id484">
<h2>DMS</h2>
<div class="section" id="id485">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - handling for files not existing in the catalogue</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id486">
<h2>Transformation</h2>
<div class="section" id="id487">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationManager - ignore files in NotProcessed status to get the % of processed files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id488">
<h2>Interfaces</h2>
<div class="section" id="id489">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Fixes due to the recent changes in PromptUser utility</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p10">
<h1>Version v6r6p10</h1>
<div class="section" id="id490">
<h2>RMS</h2>
<div class="section" id="id491">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - better escaping of queries</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id492">
<h2>WMS</h2>
<div class="section" id="id493">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - get compatible platforms before checking Task Queues for a site</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p9">
<h1>Version v6r6p9</h1>
<div class="section" id="id494">
<h2>Core</h2>
<div class="section" id="id495">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Utilities/PromptUser.py - better user prompt</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id496">
<h2>Accounting</h2>
<div class="section" id="id497">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Add some validation to the job records because of weird data coming from YANDEX.ru</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id498">
<h2>DMS</h2>
<div class="section" id="id499">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - typo errStr -&gt; infoStr in __replicate()</li>
<li>FTSRequest - fixed log message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id500">
<h2>WMS</h2>
<div class="section" id="id501">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - use CSGlobals.getVO() call instead of explicit CS option</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p8">
<h1>Version v6r6p8</h1>
<div class="section" id="id502">
<h2>Transformation</h2>
<div class="section" id="id503">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - typo in getTransformationFiles(): iterValues -&gt; itervalues</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p7">
<h1>Version v6r6p7</h1>
<div class="section" id="id504">
<h2>Resources</h2>
<div class="section" id="id505">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageFactory - uncommented line that was preventing the status to be returned</li>
<li>CE remote scripts - should return status and not call exit()</li>
<li>SSHComputingElement - wrong pilot ID reference</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p6">
<h1>Version v6r6p6</h1>
<div class="section" id="id506">
<h2>WMS</h2>
<div class="section" id="id507">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - in findOrphanJobs() retrieve orphaned jobs as list of ints instead of list of tuples</li>
<li>OptimizerExecutor - added import of datetime to cope with the old style optimizer parameters</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id508">
<h2>Transformation</h2>
<div class="section" id="id509">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - fix finalization entering in an infinite loop</li>
<li>TransformationCleaningAgent - treating the archiving delay</li>
<li>TransformationDB - fix in getTransformationFiles() in case of empty file list</li>
</ul>
</blockquote>
</div>
<div class="section" id="id510">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationCLI - added resetProcessedFile command</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p5">
<h1>Version v6r6p5</h1>
<div class="section" id="id511">
<h2>Transformation</h2>
<div class="section" id="id512">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - type( transClient -&gt; transfClient )</li>
<li>TransformationAgent - self._logInfo -&gt; self.log.info</li>
<li>TransformationAgent - skip if no Unused files</li>
<li>TransformationAgent - Use CS option for replica cache lifetime</li>
</ul>
</blockquote>
</div>
<div class="section" id="id513">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - accept No new Unused files every [6] hours</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p4">
<h1>Version v6r6p4</h1>
<div class="section" id="id514">
<h2>DMS</h2>
<div class="section" id="id515">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - protection for files that can not be scheduled</li>
<li>TransferDB - typo (instIDList - &gt; idList ) fixed</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id516">
<h2>Transformation</h2>
<div class="section" id="id517">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - typo ( loginfo -&gt; logInfo )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p3">
<h1>Version v6r6p3</h1>
<p>FIX: merged in patch v6r5p14</p>
<div class="section" id="id518">
<h2>Core</h2>
<div class="section" id="id519">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - return the right structure in getCredentials() in case of failure</li>
<li>dirac-deploy-scripts.py - allow short scripts starting from &quot;d&quot;</li>
<li>dirac-deploy-scripts.py - added DCOMMANDS_PPID env variable in the script wrapper</li>
<li>ExecutorReactor - reduced error message dropping redundant Task ID</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id520">
<h2>Interfaces</h2>
<div class="section" id="id521">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - allow to pass LFN list to replicateFile()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id522">
<h2>DMS</h2>
<div class="section" id="id523">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileManager - extra check if all files are available in _findFiles()</li>
<li>FileCatalogClientCLI - bug in DirectoryListing</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p2">
<h1>Version v6r6p2</h1>
<p>FIX: merged in patch v6r5p13</p>
<div class="section" id="id524">
<h2>WMS</h2>
<div class="section" id="id525">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - if no community set, look for DIRAC/VirtualOrganization setting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id526">
<h2>Framework</h2>
<div class="section" id="id527">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemLoggingDB - LogLevel made VARCHAR in the MessageRepository table</li>
<li>Logging - several log messages are split in fixed and variable parts</li>
<li>SystemLoggingDB - in insertMessage() do not insert new records in auxiliary tables if they are already there</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p1">
<h1>Version v6r6p1</h1>
<div class="section" id="id528">
<h2>Core:</h2>
<div class="section" id="id529">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>PromptUser - changed log level of the printout to NOTICE</li>
</ul>
</blockquote>
</div>
<div class="section" id="id530">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Base Client constructor arguments are passed to the RPCClient constructor</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id531">
<h2>DMS:</h2>
<div class="section" id="id532">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - added a prestage mechanism for source files</li>
<li>FileCatalogClientCLI - added -f switch to the size command to use raw faile tables instead of storage usage tables</li>
<li>FileCatalog - added orphan directory repair tool</li>
<li>FIleCatalog - more counters to control the catalog sanity</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id533">
<h2>WMS:</h2>
<div class="section" id="id534">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxStoreClient - no more kwargs tricks</li>
<li>SandboxStoreClient returns sandbox file name in case of upload failure to allow failover</li>
<li>dirac-pilot - fixed VO_%s_SW_DIR env variable in case of OSG</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id535">
<h2>TS:</h2>
<div class="section" id="id536">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationManagerHandler - avoid multiple Operations() instantiation in getTransformationSummaryWeb()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6">
<h1>Version v6r6</h1>
<div class="section" id="id537">
<h2>Core</h2>
<div class="section" id="id538">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - properly parse += in .cfg files</li>
<li>Graphs.Utilities - allow two lines input in makeDataFromCVS()</li>
<li>Graphs - allow Graphs package usage if even matplotlib is not installed</li>
</ul>
</blockquote>
</div>
<div class="section" id="id539">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>getDNForUsername helper migrated from Core.Security.CS to Registry helper</li>
<li>The DIRAC.Core.Security.CS is replaced by the Registry helper</li>
<li>MessageClient(Factor) - added msgClient attribute to messages</li>
</ul>
</blockquote>
</div>
<div class="section" id="id540">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteSEMapping - new utilities getSitesGroupedByTierLevel(), getTier1WithAttachedTier2(), getTier1WithTier2</li>
<li>dirac-compile-externals will retrieve the Externals compilation scripts from it's new location in github (DIRACGrid/Externals)</li>
<li>Possibility to define a thread-global credentials for DISET connections (for web framework)</li>
<li>Logger - color output ( configurable )</li>
<li>dirac-admin-sort-cs-sites - to sort sites in the CS</li>
<li>Core.Security.Properties - added JOB_MONITOR and USER_MANAGER properties</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id541">
<h2>Configuration</h2>
<div class="section" id="id542">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Registry - added getAllGroups() method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id543">
<h2>Framework</h2>
<div class="section" id="id544">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorClientCLI - possibility to define roothPath and lcgVersion when updating software</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id545">
<h2>Accounting</h2>
<div class="section" id="id546">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DBUtils - plots going to greater granularity</li>
</ul>
</blockquote>
</div>
<div class="section" id="id547">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobPlotter - added Normalized CPU plots to Job accounting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id548">
<h2>DMS</h2>
<div class="section" id="id549">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - addMetadataField() allow generic types, e.g. string</li>
<li>FileCatalog - path argument is normalized before usage in multiple methods</li>
<li>FileCatalog - new metadata for files(directories) should not be there before for directories(files)</li>
<li>FileCatalogClientCLI - in do_ls() check properly the path existence</li>
<li>FileCatalogClientCLI - protection against non-existing getCatalogCounters method in the LFC client</li>
<li>DMS Agents - properly call superclass constructor with loadName argument</li>
<li>ReplicaManager - in removeFile() non-existent file is marked as failed</li>
<li>Make several classes pylint compliant: DataIntegrityHandler, DataLoggingHandler, FileCatalogHandler, StorageElementHandler, StorageElementProxyHandler, TransferDBMonitoringHandler</li>
<li>LogUploadAgent - remove the OSError exception in __replicate()</li>
<li>FileCatalogClientCLI - multiple check of proper command inputs, automatic completion of several commands with subcommands, automatic completion of file names</li>
<li>dirac-admin-ban-se - allow to go over all options read/write/check for each SE</li>
<li>ReplicaManager - removed usage of obsolete &quot;/Resources/StorageElements/BannedTarget&quot;</li>
</ul>
</blockquote>
</div>
<div class="section" id="id550">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - forbid removing non-empty directories</li>
<li>FileCatalogClientCLI - reformat the output of size command</li>
<li>removed StorageUsageClient.py</li>
<li>removed obsoleted ProcessingDBAgent.py</li>
</ul>
</blockquote>
</div>
<div class="section" id="id551">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - storage usage info stored in all the directories, not only those with files</li>
<li>FileCatalog - added utility to rebuild storage usage info from scratch</li>
<li>FileCatalog - added method for rebuilding DirectoryUsage data from scratch</li>
<li>FileCatalog - Use DirectoryUsage mechanism for both logical and physical storage</li>
<li>StrategyHandler - new implementation to speed up file scheduling + better error reporting</li>
<li>LcgFileCatalogProxy - moved from from LHCbDirac to DIRAC</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id552">
<h2>WMS</h2>
<div class="section" id="id553">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - provide list of sites to the Matcher in the initial query</li>
<li>SiteDirector - present a list of all groups of a community to match TQs</li>
<li>Matcher - proper reporting pilot site and CE</li>
<li>PilotStatusAgent - use getPilotProxyFromDIRACGroup() instead of getPilotProxyFromVOMSGroup()</li>
<li>WMSAdministrator, SiteDirector - store only non-empty pilot output to the PilotDB</li>
<li>JobManager - reconnect to the OptimizationMind in background if not yet connected</li>
</ul>
</blockquote>
</div>
<div class="section" id="id554">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RunNumber job parameter was removed from all the relevant places ( JDL, JobDB, etc )</li>
<li>Get rid of LHCbPlatform everywhere except TaskQueueDB</li>
<li>dirac-boinc-pilot dropped</li>
<li>TaskQueueDirector does not depend on /LocalSite section any more</li>
<li>reduced default delays for JobCleaningAgent</li>
<li>limit the number of jobs received by JobCleaningAgent</li>
<li>JobDB - use insertFields instead of _insert</li>
<li>Matcher, TaskQueueDB - switch to use Platform rather than LHCbPlatform retaining LHCbPlatform compatibility</li>
<li>JobManager - improved job Killing/Deleting logic</li>
<li>dirac-pilot - treat the OSG case when jobs on the same WN all run in the same directory</li>
<li>JobMonitoringHandler - add cutDate and condDict parameters to getJobGroup()</li>
<li>JobManifest - use Operations helper</li>
</ul>
</blockquote>
</div>
<div class="section" id="id555">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-pilot - add environment setting for SSH and BOINC CEs</li>
<li>WMSAdministrator - get output for non-grid CEs if not yet in the DB</li>
<li>JobAgent - job publishes BOINC parameters if any</li>
<li>JobWrapper - added more status reports on different failures</li>
<li>JobMonitoringHandler - check access rights with JobPolicy when accessing job info from the web</li>
<li>JobManager,JobWrapper - report to accounting jobs in Rescheduled final state if rescheduling is successful</li>
<li>added killPilot() to the WMSAdministrator interface, DiracAdmin and dirac-admin-kill-pilot command</li>
<li>TimeLeft - renormalize time left using DIRAC Normalization if available</li>
<li>JobCleaningAgent - delete logging records from JobLoggingDB when deleting jobs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id556">
<h2>RMS</h2>
<div class="section" id="id557">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBFile - better exception handling in case no JobID supplied</li>
<li>RequestManagerHandler - make it pylint compliant</li>
</ul>
</blockquote>
</div>
<div class="section" id="id558">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Major revision of the code</li>
<li>RequestDB - added index on SubRequestID in the Files table</li>
<li>RequestClient - readRequestForJobs updated to the new RequetsClient structure</li>
</ul>
</blockquote>
</div>
<div class="section" id="id559">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RequestProxyHandler - is forwarding requests from voboxes to central RequestManager. If central RequestManager is down, requests are dumped into file cache and a separate thread running in background is trying to push them into the central.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id560">
<h2>RSS</h2>
<div class="section" id="id561">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CS.py - Space Tokens were hardcoded, now are obtained after scanning the StorageElements.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id562">
<h2>Resources</h2>
<div class="section" id="id563">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - enabled multiple hosts in one queue, more debugging</li>
</ul>
</blockquote>
</div>
<div class="section" id="id564">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SSHXXX Computing Elements - define SSH class once in the SSHComputingElement</li>
<li>Get rid of legacy methods in ComputingElement</li>
<li>put common functionality into SSHComputingElement base class for all SSHxxx CEs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id565">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - added option to define private key location</li>
<li>enable definition of ChecksumType per SE</li>
<li>SSHBatch, SSHCondor Computing Elements</li>
<li>SSHxxx Computing Elements - using remote control scripts to better capture remote command errors</li>
<li>added killJob() method tp all the CEs</li>
<li>FileCatalog - take the catalog information info from /Operations CS section, if defined there, to allow specifications per VO</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id566">
<h2>Interfaces</h2>
<div class="section" id="id567">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - when running in mode=&quot;local&quot; any directory in the ISB would not get untarred, contrary to what is done in the JobWrapper</li>
</ul>
</blockquote>
</div>
<div class="section" id="id568">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Removed Script.initialize() from the API initialization</li>
<li>Some general API polishing</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id569">
<h2>TS</h2>
<div class="section" id="id570">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - bug fixed in treating tasks with input data</li>
<li>TransformationCleaningAgent - properly call superclass constructor with loadName argument</li>
<li>TransformationDB - wrong SQL statement generation in setFileStatusForTransformation()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id571">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - removed usage of StorageUsageClient</li>
</ul>
</blockquote>
</div>
<div class="section" id="id572">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - added _addExtraDirectories() method to extend the list of directories to clean in a subclass if needed</li>
<li>TransformationAgent is multithreaded now ( implementation moved from LHCbDIRAC )</li>
<li>added unit tests</li>
<li>InputDataAgent - possibility to refresh only data registered in the last predefined period of time</li>
<li>TransformationAgent(Client) - management of derived transformations and more ported from LHCbDIRAC</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p14">
<h1>Version v6r5p14</h1>
<div class="section" id="id573">
<h2>Core</h2>
<div class="section" id="id574">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Utilities - added Backports utility</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id575">
<h2>WMS</h2>
<div class="section" id="id576">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Use /Operations/JobScheduling section consistently, drop /Operations/Matching section</li>
<li>Executors - several fixes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id577">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Allow VO specific share correction plugins from extensions</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p13">
<h1>Version v6r5p13</h1>
<div class="section" id="id578">
<h2>WMS</h2>
<div class="section" id="id579">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Executors - VOPlugin will properly send and receive the params</li>
<li>Correctors - Properly retrieve info from the CS using the ops helper</li>
</ul>
</blockquote>
</div>
<div class="section" id="id580">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Correctors can be defined in an extension</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p12">
<h1>Version v6r5p12</h1>
<p>FIX: merged in patch v6r4p34</p>
</div>
<div class="section" id="version-v6r5p11">
<h1>Version v6r5p11</h1>
<p>FIX: merged in patch v6r4p33</p>
<div class="section" id="id581">
<h2>Core</h2>
<div class="section" id="id582">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MySQL - added offset argument to buildConditions()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p10">
<h1>Version v6r5p10</h1>
<p>FIX: merged in patch v6r4p32</p>
</div>
<div class="section" id="version-v6r5p9">
<h1>Version v6r5p9</h1>
<p>FIX: merged in patch v6r4p30</p>
</div>
<div class="section" id="version-v6r5p8">
<h1>Version v6r5p8</h1>
<p>FIX: merged in patch v6r4p29</p>
</div>
<div class="section" id="version-v6r5p7">
<h1>Version v6r5p7</h1>
<p>FIX: merged in patch v6r4p28</p>
</div>
<div class="section" id="version-v6r5p6">
<h1>Version v6r5p6</h1>
<p>FIX: merged in patch v6r4p27</p>
<div class="section" id="id583">
<h2>Transformation</h2>
<div class="section" id="id584">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - StringType must be imported before it can be used</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id585">
<h2>RSS</h2>
<div class="section" id="id586">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CS.py - Space Tokens were hardcoded, now are obtained after scanning the StorageElements.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p5">
<h1>Version v6r5p5</h1>
<p>FIX: merged in patch v6r4p26</p>
</div>
<div class="section" id="version-v6r5p4">
<h1>Version v6r5p4</h1>
<p>FIX: merged in patch v6r4p25</p>
</div>
<div class="section" id="version-v6r5p3">
<h1>Version v6r5p3</h1>
<div class="section" id="id587">
<h2>Transformation</h2>
<div class="section" id="id588">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>merged in patch v6r4p24</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p2">
<h1>Version v6r5p2</h1>
<div class="section" id="web">
<h2>Web</h2>
<div class="section" id="id589">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>includes DIRACWeb tag web2012092101</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p1">
<h1>Version v6r5p1</h1>
<div class="section" id="id590">
<h2>Core</h2>
<div class="section" id="id591">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ExecutorMindHandler - return S_OK() in the initializeHandler</li>
<li>OptimizationMindHandler - if the manifest is not dirty it will not be updated by the Mind</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id592">
<h2>Configuration</h2>
<div class="section" id="id593">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Resources helper - added getCompatiblePlatform(), getDIRACPlatform() methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id594">
<h2>Resources</h2>
<div class="section" id="id595">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - add -q option to ssh command to avoid banners in the output</li>
<li>BOINCComputingElement - removed debugging printout</li>
<li>ComputingElement - use Platform CS option which will be converted to LHCbPlatform for legacy compatibility</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id596">
<h2>DMS</h2>
<div class="section" id="id597">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestAgentBase - lowering loglevel from ALWAYS to INFO to avoid flooding SystemLogging</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id598">
<h2>WMS:</h2>
<div class="section" id="id599">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - provide CE platform parameter when interrogating the TQ</li>
<li>GridPilotDirector - publish pilot OwnerGroup rather than VOMS role</li>
<li>WMSUtilities - add new error string into the parsing of the job output retrieval</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5">
<h1>Version v6r5</h1>
<p>NEW: Executor framework</p>
<div class="section" id="id600">
<h2>Core</h2>
<div class="section" id="id601">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool - killing stuck workers after timeout</li>
<li>dirac-install - add -T/--Timeout option to define timeout for distribution downloads</li>
<li>avoid PathFinder.getServiceURL and use Client class ( DataLoggingClient,LfcFileCatalogProxyClient )</li>
<li>MySQL - added TIMESTAMPADD and TIMESTAMPDIFF to special values not to be scaped by MySQL</li>
<li>Convert to string before trying to escape value in MySQL</li>
<li>X509Chain - avoid a return of error when the group is not valid</li>
<li>MySQL - reduce verbosity of log messages when high level methods are used</li>
<li>Service.py - check all return values from all initializers</li>
</ul>
</blockquote>
</div>
<div class="section" id="id602">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DB will throw a RuntimeException instead of a sys.exit in case it can't contact the DB</li>
<li>Several improvements on DISET</li>
<li>Fixed all DOS endings to UNIX</li>
<li>Agents, Services and Executors know how to react to CSSection/Module and react accordingly</li>
<li>dirac-distribution - added global defaults flag and changed the flag to -M or --defaultsURL</li>
<li>Component installation procedure updated to cope with components inheriting Modules</li>
<li>InstallTools - use dirac- command in runit run scripts</li>
<li>Several DB classes have been updated to use the MySQL buildCondition method</li>
</ul>
</blockquote>
</div>
<div class="section" id="id603">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>MySQL.py - added Test case for Time.dateTime time stamps</li>
<li>MySQL.py - insertFields and updateFields can get values via Lists or Dicts</li>
<li>DataIntegrityDB - use the new methods from MySQL and add test cases</li>
<li>DataIntegrityHandler - check connection to DB and create tables (or update their schema)</li>
<li>DataLoggingDB - use the new methods from MySQL and add test cases</li>
<li>DataLoggingHandler - check connection to DB and create tables (or update their schema)</li>
<li>install tools are updated to deal with executors</li>
<li>dirac-install - added possibility of defining dirac-install's global defaults by command line switch</li>
<li>ObjectLoader utility</li>
<li>DISET Services - added PacketTimeout option</li>
<li>SystemLoggingDB - updated to use the renewed MySQL interface and SQL schema</li>
<li>Added support for multiple entries in /Registry/DefaultGroup, for multi-VO installations</li>
<li>MySQL - provide support for greater and smaller arguments to all MySQL high level methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id604">
<h2>Configuration</h2>
<div class="section" id="id605">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>By default return option and section lists ordered as in the CS</li>
</ul>
</blockquote>
</div>
<div class="section" id="id606">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ConfigurationClient - added function to refresh remote configuration</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id607">
<h2>Framework</h2>
<div class="section" id="id608">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Registry.findDefaultGroup will never return False</li>
</ul>
</blockquote>
</div>
<div class="section" id="id609">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ProxyManager does not accept proxies without explicit group</li>
<li>SystemAdministratorHandler - force refreshing the configuration after new component setup</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id610">
<h2>RSS</h2>
<div class="section" id="id611">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>removed code execution from __init__</li>
<li>removed unused methods</li>
</ul>
</blockquote>
</div>
<div class="section" id="id612">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Log all policy results</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id613">
<h2>Resources</h2>
<div class="section" id="id614">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SGETimeLeft - better parsing of the batch system commands output</li>
<li>InProcessComputingElement - when starting a new job discard renewal of the previous proxy</li>
</ul>
</blockquote>
</div>
<div class="section" id="id615">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>updated SSHComputingElement which allows multiple job submission</li>
<li>BOINCComputingElement - new CE client to work with the BOINC desktop grid infrastructure</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id616">
<h2>WMS</h2>
<div class="section" id="id617">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>typo in JobLoggingDB</li>
<li>DownloadInputData - when not enough disk space, message was using &quot;buffer&quot; while it should be using &quot;data&quot;</li>
<li>the sandboxmetadataDB explosion when using the sandboxclient without direct access to the DB</li>
<li>InputDataResolution - just quick mod for easier extensibility, plus removed some LHCb specific stuff</li>
<li>StalledJobAgent - use cpuNormalization as float, not string</li>
<li>Don't kill an executor if a task has been taken out from it</li>
<li>SiteDirector - better handling of tokens and filling mode</li>
<li>StalledJobAgent - default startTime and endTime to &quot;now&quot;, avoid None value</li>
</ul>
</blockquote>
</div>
<div class="section" id="id618">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>WMS Optimizers are now executors</li>
<li>SandboxStoreClient can directly access the DB if available</li>
<li>Moved JobDescription and improved into JobManifest</li>
<li>Whenever a DB is not properly initialized it will raise a catchable RuntimeError exception instead of silently returning</li>
<li>Natcher - refactor to simpify the logic, introduced Limiter class</li>
<li>Treat MaxCPUTime and CPUTime the same way in the JDL to avoid confusion</li>
<li>JobAgent - provide resource description as a dictionary to avoid extra JDL parsing by the Matcher</li>
<li>Matcher - report pilot info once instead of sending it several times from the job</li>
<li>Matcher - set the job site instead of making a separate call to JobStateUpdate</li>
<li>Disabled TQs can also be matched, if no jobs are there, a retry will be triggered</li>
</ul>
</blockquote>
</div>
<div class="section" id="id619">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobState/CachedJobState allow access to the Job via DB/JobStateSync Service automatically</li>
<li>Added support for reset/reschedule in the OptimizationMind</li>
<li>allow jobids in a file in dirac-wms-job-get-output</li>
<li>JobManager - zfill in %n parameter substitution to allow alphabetical sorting</li>
<li>Directors - added checking of the TaskQueue limits when getting eligible queues</li>
<li>SiteDirector - added options PilotScript, MaxPilotsToSubmit, MaxJobsInFillMode</li>
<li>dirac-boinc-pilot - pilot script to be used on the BOINC volunteer nodes</li>
<li>Generic pilot identities are automatically selected by the TQD and the SiteDirector if not explicitly defined in /Pilot/GenericDN and GenericGroup</li>
<li>Generic pilot groups can have a VO that will be taken into account when selecting generic credentials to submit pilots</li>
<li>Generic pilots that belong to a VO can only match jobs from that VO</li>
<li>StalledJobAgent - added rescheduling of jobs stuck in Matched or Rescheduled status</li>
<li>JobAgent - stop after N failed matching attempts (nothing to do), use StopAfterFailedMatches option</li>
<li>Matcher - added Matches done and matches OK statistics</li>
<li>TaskQueue - don't delete fresh task queues. Wait 5 minutes to do so.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id620">
<h2>Transformation</h2>
<div class="section" id="id621">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - a small improvement: now can pick the prods status to handle from the CS, plus few minor corrections (e.g. logger messages)</li>
<li>TransformationCLI - take into accout possible failures in resetFile command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id622">
<h2>Accounting</h2>
<div class="section" id="id623">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>AccountingDB - fixed some logic for readonly cases</li>
<li>Calculate the rebucket ETA using remaining records to be processed instead of the total records to be processed</li>
<li>Plots with no data still carry the plot name</li>
</ul>
</blockquote>
</div>
<div class="section" id="id624">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Added new simpler and faster bucket insertion mechanism</li>
</ul>
</blockquote>
</div>
<div class="section" id="id625">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>AccountingDB - added retrieving RAW records for internal stuff</li>
<li>Added more info when rebucketing</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id626">
<h2>DMS</h2>
<div class="section" id="id627">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataLoggingClient and DataLoggingDB - tests moved to separate files</li>
</ul>
</blockquote>
</div>
<div class="section" id="id628">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>request agents cleanup</li>
</ul>
</blockquote>
</div>
<div class="section" id="id629">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - added retry in the gfal calls</li>
<li>added new FTSCleaningAgent cleaning up TransferDB tables</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id630">
<h2>RMS</h2>
<div class="section" id="id631">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Stop using RequestAgentMixIn in the request agents</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p34">
<h1>Version v6r4p34</h1>
<div class="section" id="id632">
<h2>DMS</h2>
<div class="section" id="id633">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogCLI - fixed wrong indentation</li>
</ul>
</blockquote>
</div>
<div class="section" id="id634">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RegistrationTask - removed some LHCb specific defaults</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p33">
<h1>Version v6r4p33</h1>
<div class="section" id="id635">
<h2>DMS</h2>
<div class="section" id="id636">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - be more verbose if something is wrong with file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p32">
<h1>Version v6r4p32</h1>
<div class="section" id="id637">
<h2>WMS</h2>
<div class="section" id="id638">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - avoid exceptions in the stalled job accounting reporting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id639">
<h2>DMS</h2>
<div class="section" id="id640">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent - handling of expired FTS jobs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id641">
<h2>Interfaces</h2>
<div class="section" id="id642">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - attempt to retrieve output sandbox also for Completed jobs in retrieveRepositorySandboxes()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p30">
<h1>Version v6r4p30</h1>
<div class="section" id="id643">
<h2>Core</h2>
<div class="section" id="id644">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-bdii-ce-voview - proper check of the result structure</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id645">
<h2>Interfaces</h2>
<div class="section" id="id646">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py, Job.py - allow to pass environment variables with special characters</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id647">
<h2>DMS</h2>
<div class="section" id="id648">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogCLI - possibility to sort output in the ls command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id649">
<h2>WMS:</h2>
<div class="section" id="id650">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - interpret environment variables with special characters</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p29">
<h1>Version v6r4p29</h1>
<div class="section" id="id651">
<h2>RMS</h2>
<div class="section" id="id652">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - wrong indentation in __updateSubRequestFiles()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p28">
<h1>Version v6r4p28</h1>
<div class="section" id="id653">
<h2>Interfaces</h2>
<div class="section" id="id654">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py, DiracAdmin.py - remove explicit timeout on RPC client instantiation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id655">
<h2>RSS</h2>
<div class="section" id="id656">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CS.py - fix for updated CS location (backward compatible)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id657">
<h2>DMS</h2>
<div class="section" id="id658">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - bug fixed determineReplicationTree()</li>
<li>FTSRequest - add checksum string to SURLs file before submitting an FTS job</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id659">
<h2>WMS</h2>
<div class="section" id="id660">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - protection for double quotes in JobName</li>
</ul>
</blockquote>
</div>
<div class="section" id="id661">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - switched some logging messages from verbose to info level</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id662">
<h2>RMS</h2>
<div class="section" id="id663">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Request(Client,DBMySQL,Manager) - added readRequestsForJobs() method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p27">
<h1>Version v6r4p27</h1>
<div class="section" id="id664">
<h2>DMS</h2>
<div class="section" id="id665">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - removed hack for EOS (fixed server-side)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id666">
<h2>Transformation</h2>
<div class="section" id="id667">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - limit to 100 the number of transformations in getTransformations()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id668">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - define the transformations type to use in the configuration</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id669">
<h2>Interfaces</h2>
<div class="section" id="id670">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Job.py -  fix for empty environmentDict (setExecutionEnv)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p26">
<h1>Version v6r4p26</h1>
<div class="section" id="id671">
<h2>Transformation</h2>
<div class="section" id="id672">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - fixed calling sequence in rpcClient.getTransformationTasks()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id673">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - added log messages in verbose level.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p25">
<h1>Version v6r4p25</h1>
<div class="section" id="id674">
<h2>DMS</h2>
<div class="section" id="id675">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - sanity check for wrong replication tree</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p24">
<h1>Version v6r4p24</h1>
<div class="section" id="id676">
<h2>Core</h2>
<div class="section" id="id677">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>MySQL - add 'offset' argument to the buildCondition()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id678">
<h2>Transformation</h2>
<div class="section" id="id679">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - randomize the LFNs for removal/replication case when large number of those</li>
<li>TransformationAgent(DB) - do not return redundant LFNs in getTransformationFiles()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id680">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient(DB,Manager) - get transformation files in smaller chunks to improve performance</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p23">
<h1>Version v6r4p23</h1>
<div class="section" id="id681">
<h2>Web</h2>
<div class="section" id="id682">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>includes DIRACWeb tag web2012092101</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p22">
<h1>Version v6r4p22</h1>
<div class="section" id="id683">
<h2>DMS</h2>
<div class="section" id="id684">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - fix the problem with the CERN-EOS storage</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p21">
<h1>Version v6r4p21</h1>
<div class="section" id="id685">
<h2>Core</h2>
<div class="section" id="id686">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SGETimeLeft - take into account dd:hh:mm:ss format of the cpu consumed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p20">
<h1>Version v6r4p20</h1>
<div class="section" id="id687">
<h2>WMS</h2>
<div class="section" id="id688">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PilotDirector, GridPilotDirector - make sure that at least 1 pilot is to be submitted</li>
<li>GridPilotDirector - bug on how pilots are counted when there is an error in the submit loop.</li>
<li>dirac-pilot - proper install script installation on OSG sites</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p19">
<h1>Version v6r4p19</h1>
<div class="section" id="id689">
<h2>RMS</h2>
<div class="section" id="id690">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - optimized request selection query</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p18">
<h1>Version v6r4p18</h1>
<div class="section" id="id691">
<h2>Configuration</h2>
<div class="section" id="id692">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CE2CSAgent.py - the default value must be set outside the loop</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id693">
<h2>DMS</h2>
<div class="section" id="id694">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-fts-submit, dirac-dms-fts-monitor - print out error messages</li>
</ul>
</blockquote>
</div>
<div class="section" id="id695">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-create-replication-request</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id696">
<h2>Resources</h2>
<div class="section" id="id697">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TorqueComputingElement.py, plus add UserName for shared Queues</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id698">
<h2>WMS</h2>
<div class="section" id="id699">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobManagerHandler - default value for pStart (to avoid Exception)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p17">
<h1>Version v6r4p17</h1>
<div class="section" id="id700">
<h2>Core</h2>
<div class="section" id="id701">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - setup was not updated in dirac.cfg even with -F option</li>
<li>RequestHandler - added fix for Missing ConnectionError</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id702">
<h2>DMS</h2>
<div class="section" id="id703">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-clean-directory - command fails with <cite>KeyError: 'Replicas'</cite>.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id704">
<h2>WMS</h2>
<div class="section" id="id705">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - adapt to the new method in the Matcher getMatchingTaskQueue</li>
<li>SiteDirector - added all SubmitPools to TQ requests</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p16">
<h1>Version v6r4p16</h1>
<div class="section" id="id706">
<h2>Core:</h2>
<div class="section" id="id707">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - bashrc/cshrc were wrongly created when using versionsDir</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id708">
<h2>Accounting</h2>
<div class="section" id="id709">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Added new simpler and faster bucket insertion mechanism</li>
</ul>
</blockquote>
</div>
<div class="section" id="id710">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added more info when rebucketing</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id711">
<h2>WMS</h2>
<div class="section" id="id712">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Matcher - bad codition if invalid result</li>
</ul>
</blockquote>
</div>
<div class="section" id="id713">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Matcher - refactored to take into account job limits when providing info to directors</li>
</ul>
</blockquote>
</div>
<div class="section" id="id714">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JoAgent - reports SubmitPool parameter if applicable</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p15">
<h1>Version v6r4p15</h1>
<div class="section" id="id715">
<h2>WMS</h2>
<div class="section" id="id716">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>gLitePilotDirector - fix the name of the MyProxy server to avoid crasehs of the gLite WMS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id717">
<h2>Transformation</h2>
<div class="section" id="id718">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - when the file is on many SEs, wrong results were generated</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p13">
<h1>Version v6r4p13</h1>
<div class="section" id="id719">
<h2>DMS</h2>
<div class="section" id="id720">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-allow-se - added missing interpreter line</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p12">
<h1>Version v6r4p12</h1>
<div class="section" id="id721">
<h2>DMS</h2>
<div class="section" id="id722">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - for DataManager shifter change creds after failure of removal with her/his proxy.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id723">
<h2>RSS</h2>
<div class="section" id="id724">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceManagementClient  - Fixed wrong method name</li>
</ul>
</blockquote>
</div>
<div class="section" id="id725">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added RssConfiguration class</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p11">
<h1>Version v6r4p11</h1>
<div class="section" id="id726">
<h2>Core</h2>
<div class="section" id="id727">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GGUSTicketsClient - GGUS SOAP URL updated</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id728">
<h2>DMS</h2>
<div class="section" id="id729">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - wrong for loop</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="requestmanagement">
<h2>RequestManagement</h2>
<div class="section" id="id730">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestClient - bug fix in finalizeRequest()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id731">
<h2>Transformation</h2>
<div class="section" id="id732">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - fix for correctly setting the sites (as list)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p10">
<h1>Version v6r4p10</h1>
<div class="section" id="id733">
<h2>RequestManagement</h2>
<div class="section" id="id734">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestContainer - in addSubrequest() function</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id735">
<h2>Resources</h2>
<div class="section" id="id736">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - in checksum type evaluation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="resourcestatussystem">
<h2>ResourceStatusSystem</h2>
<div class="section" id="id737">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InfoGetter - wrong import statement</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id738">
<h2>WMS</h2>
<div class="section" id="id739">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxMetadataDB - __init__() can not return a value</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p9">
<h1>Version v6r4p9</h1>
<div class="section" id="id740">
<h2>DMS</h2>
<div class="section" id="id741">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FailoverTransfer - ensure the correct execution order of the subrequests</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p8">
<h1>Version v6r4p8</h1>
<p>Bring in fixes from v6r3p17</p>
<div class="section" id="id742">
<h2>Core:</h2>
<div class="section" id="id743">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Don't have the __init__ return True for all DBs</li>
<li>Operations will now look in 'Defaults' instead of 'Default'</li>
</ul>
</blockquote>
</div>
<div class="section" id="id744">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added more protection for exceptions thrown in callbacks for the ProcessPool</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="datamanagement">
<h2>DataManagement:</h2>
<div class="section" id="id745">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Put more protection in StrategyHandler for neither channels  not throughput read out of TransferDB</li>
<li>No JobIDs supplied in getRequestForJobs function for RequestDBMySQL taken into account</li>
<li>Fix on getRequestStatus</li>
</ul>
</blockquote>
</div>
<div class="section" id="id746">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RequestClient proper use of getRequestStatus in finalizeRequest</li>
<li>Refactored RequestDBFile</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p7">
<h1>Version v6r4p7</h1>
<div class="section" id="workloadmanagement">
<h2>WorkloadManagement</h2>
<div class="section" id="id747">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxMetadataDB won't explode DIRAC when there's no access to the DB</li>
</ul>
</blockquote>
</div>
<div class="section" id="id748">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Whenever a DB fails to initialize it raises a catchable exception instead of just returning silently</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id749">
<h2>DataManagement</h2>
<div class="section" id="id750">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Added Lost and Unavailable to the file metadata</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p6">
<h1>Version v6r4p6</h1>
<p>Bring fixes from v6r4p6</p>
</div>
<div class="section" id="version-v6r4p5">
<h1>Version v6r4p5</h1>
<div class="section" id="id751">
<h2>Configuration</h2>
<div class="section" id="id752">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added function to generate Operations CS paths</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id753">
<h2>Core</h2>
<div class="section" id="id754">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Added proper ProcessPool checks and finalisation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id755">
<h2>DataManagement</h2>
<div class="section" id="id756">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>don't set Files.Status to Failed for non-existign files, failover transfers won't go</li>
<li>remove classmethods here and there to unblock requestHolder</li>
<li>sorting replication tree by Ancestor, not hopAncestorgit add DataManagementSystem/Agent/TransferAgent.py</li>
<li>if there is no failed files, put an empty dict</li>
</ul>
</blockquote>
</div>
<div class="section" id="id757">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RAB, TA: change task timeout: 180 and 600 (was 600 and 900 respectively)</li>
<li>TransferAgent: add AcceptableFailedFiles to StrategyHandler to ban FTS channel from scheduling</li>
</ul>
</blockquote>
</div>
<div class="section" id="id758">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TA: add finalize</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id759">
<h2>RSS</h2>
<div class="section" id="id760">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RSS is setting Allowed but the StorageElement checks for Active</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="workflows">
<h2>Workflows</h2>
<div class="section" id="id761">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Part of WorfklowTask rewritten to fix some issues and allow 'ANY' as site</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id762">
<h2>Transformation</h2>
<div class="section" id="id763">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Wrong calls to TCA::cleanMetadataCatalogFiles</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p4">
<h1>Version v6r4p4</h1>
<div class="section" id="id764">
<h2>Core</h2>
<div class="section" id="id765">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Platform.py - check if Popen.terminate is available (only from 2.6)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p3">
<h1>Version v6r4p3</h1>
<div class="section" id="id766">
<h2>Core</h2>
<div class="section" id="id767">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool with watchdog and timeouts - applied in v6r3 first</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p2">
<h1>Version v6r4p2</h1>
<div class="section" id="id768">
<h2>StorageManagement</h2>
<div class="section" id="id769">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - staging is a Read operation and should be allowed as such</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id770">
<h2>WMS</h2>
<div class="section" id="id771">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InProcessComputingElement, JobAgent - proper return status code from the job wrapper</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id772">
<h2>Core</h2>
<div class="section" id="id773">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Platform - manage properly the case of exception in the ldconfig execution</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p1">
<h1>Version v6r4p1</h1>
<div class="section" id="id774">
<h2>DMS</h2>
<div class="section" id="id775">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferDB.getChannelObservedThroughput - the channelDict was created in a wrong way</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id776">
<h2>RSS</h2>
<div class="section" id="id777">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceStatus was not returning Allowed by default</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4">
<h1>Version v6r4</h1>
<div class="section" id="id778">
<h2>Core</h2>
<div class="section" id="id779">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install-db.py: addDatabaseOptionsToCS has added a new keyed argument</li>
<li>If several extensions are installed, merge ConfigTemplate.cfg</li>
<li>ProcessPool - fixes in the locking mechanism with LockRing, stopping workers when the parent process is finished</li>
<li>Added more locks to the LockRing</li>
</ul>
</blockquote>
</div>
<div class="section" id="id780">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SGETimeLeft.py: Support for SGE backend</li>
<li>Service framework - added monitoring of file descriptors open</li>
<li>Service framework - Reduced handshake timeout to prevent stuck threads</li>
<li>MySQL class with new high level methods - buildCondition,insertFields,updateFields deleteEntries, getFields, getCounters, getDistinctAttributeValues</li>
<li>The installation tools are updated to install components by name with the components module specified as an option</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id781">
<h2>DMS</h2>
<div class="section" id="id782">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferDB.py - speed up the Throughput determination</li>
<li>FileCatalogCLI - replicate operation does a proper replica registration ( closes #5 )</li>
<li>ReplicaManager - __cleanDirectory now working and thus dirac-dms-clean-directory</li>
</ul>
</blockquote>
</div>
<div class="section" id="id783">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-add-files: script similar to dirac-dms-remove-files, allows for 1 file specification on the command line, using the usual dirac-dms-add-file options, but also can take a text file in input to upload a bunch of files. Exit code is 0 only if all was fine and is different for every error found.</li>
<li>StorageElementProxy- support for data downloading with http protocol from arbitrary storage, needed for the web data download</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id784">
<h2>WMS</h2>
<div class="section" id="id785">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - StalledTimeHours and FailedTimeHours are read each cycle, refer to the Watchdog heartBeat period (should be renamed); add NormCPUTime to Accounting record</li>
<li>StalledJobAgent - get ProcessingType from JDL if defined</li>
<li>dirac-wms-job-peek - missing printout in the command</li>
<li>properly report CPU usage when the Watchdog kill the payload.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id786">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CPU normalization script to run a quick test in the pilot, used by the JobWrapper to report the CPU consumption to the accounting</li>
<li>SiteDirector - support for the operation per VO in multi-VO installations</li>
<li>SiteDirector - take into account the number of already waiting pilots when evaluating the number of pilots to submit</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id787">
<h2>RSS</h2>
<div class="section" id="id788">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Result in ClientCache table is a varchar, but the method was getting a datetime</li>
</ul>
</blockquote>
</div>
<div class="section" id="id789">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RSS components get operational parameters from the Operations handler</li>
</ul>
</blockquote>
</div>
<div class="section" id="id790">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CacheFeederAgent - VOBOX and SpaceTokenOccupancy commands added (ported from LHCbDIRAC)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id791">
<h2>DataManagement</h2>
<div class="section" id="id792">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>if there is no failed files, put an empty dict</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id793">
<h2>Transformation</h2>
<div class="section" id="id794">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Wrong calls to TCA::cleanMetadataCatalogFiles</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p19">
<h1>Version v6r3p19</h1>
<div class="section" id="id795">
<h2>WMS</h2>
<div class="section" id="id796">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>gLitePilotDirector - fix the name of the MyProxy server to avoid crashes of the gLite WMS</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p18">
<h1>Version v6r3p18</h1>
<div class="section" id="id797">
<h2>Resources</h2>
<div class="section" id="id798">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - in checksum type evaluation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p17">
<h1>Version v6r3p17</h1>
<div class="section" id="id799">
<h2>DataManagement</h2>
<div class="section" id="id800">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Fixes issues #783 and #781. Bugs in ReplicaManager removePhisicalReplica and getFilesFromDirectory</li>
<li>Return S_ERROR if missing jobid arguments</li>
</ul>
</blockquote>
</div>
<div class="section" id="id801">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Checksum can be verified during FTS and SRM2Storage</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p16">
<h1>Version v6r3p16</h1>
<div class="section" id="id802">
<h2>DataManagement</h2>
<div class="section" id="id803">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>better monitoring of FTS channels</li>
<li>Handle properly None value for channels and bandwidths</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id804">
<h2>Core</h2>
<div class="section" id="id805">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Properly calculate the release notes if there are newer releases in the release.notes file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p15">
<h1>Version v6r3p15</h1>
<div class="section" id="id806">
<h2>DataManagement</h2>
<div class="section" id="id807">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>if there is no failed files, put an empty dict</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id808">
<h2>Transformation</h2>
<div class="section" id="id809">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Wrong calls to TCA::cleanMetadataCatalogFiles</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p14">
<h1>Version v6r3p14</h1>
<div class="section" id="id810">
<h2>Core</h2>
<div class="section" id="id811">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool.py: clean processing and finalisation</li>
<li>Pfn.py: don't check for 'FileName' in pfnDict</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id812">
<h2>DMS</h2>
<div class="section" id="id813">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent.py,RemovalAgent.py,RegistrationAgent.py - unlinking of temp proxy files, corection of values sent to gMonitor</li>
<li>StrategyHandler - new config option 'AcceptableFailedFiles' to unblock scheduling for channels if problematic transfers occured for few files</li>
<li>ReplicaManager.py - reverse sort of LFNs when deleting files and directories to avoid blocks</li>
</ul>
</blockquote>
</div>
<div class="section" id="id814">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-show-fts-status.py: script showing last hour history for FTS channels</li>
<li>TransferDBMonitoringHandler.py: new function exporting FST channel queues</li>
<li>TransferAgent,RemovalAgent,RegistrationAgent - new confing options for setting timeouts for tasks and ProcessPool finalisation</li>
<li>moved StrategyHandler class def to separate file under DMS/private</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="tms">
<h2>TMS</h2>
<div class="section" id="id815">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent.py: some refactoring, new way of disabling/enabline execution by 'EnableFlag' config option</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p13">
<h1>Version v6r3p13</h1>
<div class="section" id="id816">
<h2>Core</h2>
<div class="section" id="id817">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Added proper ProcessPool checks and finalisation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id818">
<h2>DataManagement</h2>
<div class="section" id="id819">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>don't set Files.Status to Failed for non-existign files, failover transfers won't go</li>
<li>remove classmethods here and there to unblock requestHolder</li>
<li>sorting replication tree by Ancestor, not hopAncestorgit add DataManagementSystem/Agent/TransferAgent.py</li>
</ul>
</blockquote>
</div>
<div class="section" id="id820">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RAB, TA: change task timeout: 180 and 600 (was 600 and 900 respectively)</li>
<li>TransferAgent: add AcceptableFailedFiles to StrategyHandler to ban FTS channel from scheduling</li>
</ul>
</blockquote>
</div>
<div class="section" id="id821">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TA: add finalize</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p12">
<h1>Version v6r3p12</h1>
<div class="section" id="id822">
<h2>Core</h2>
<div class="section" id="id823">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Platform.py - check if Popen.terminate is available (only from 2.6)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p11">
<h1>Version v6r3p11</h1>
<div class="section" id="id824">
<h2>Core</h2>
<div class="section" id="id825">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool with watchdog and timeouts</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p10">
<h1>Version v6r3p10</h1>
<div class="section" id="id826">
<h2>StorageManagement</h2>
<div class="section" id="id827">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - staging is a Read operation and should be allowed as such</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id828">
<h2>WMS</h2>
<div class="section" id="id829">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InProcessComputingElement, JobAgent - proper return status code from the job wrapper</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id830">
<h2>Core</h2>
<div class="section" id="id831">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Platform - manage properly the case of exception in the ldconfig execution</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p9">
<h1>Version v6r3p9</h1>
<div class="section" id="id832">
<h2>DMS</h2>
<div class="section" id="id833">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferDB.getChannelObservedThroughput - the channelDict was created in a wrong way</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p8">
<h1>Version v6r3p8</h1>
<div class="section" id="id834">
<h2>Web</h2>
<div class="section" id="id835">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>return back to the release web2012041601</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p7">
<h1>Version v6r3p7</h1>
<div class="section" id="id836">
<h2>Transformation</h2>
<div class="section" id="id837">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - protection from deleting requests with jobID 0</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p6">
<h1>Version v6r3p6</h1>
<div class="section" id="id838">
<h2>Core</h2>
<div class="section" id="id839">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install-db - proper key argument (follow change in InstallTools)</li>
<li>ProcessPool - release all locks every time WorkignProcess.run is executed, more fixes to come</li>
<li>dirac-configure - for Multi-Community installations, all vomsdir/vomses files are now created</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id840">
<h2>WMS</h2>
<div class="section" id="id841">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-pilot - SGE batch ID was overwriting the CREAM ID</li>
<li>PilotDirector - protect the CS master if there are at least 3 slaves</li>
</ul>
</blockquote>
</div>
<div class="section" id="id842">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - add pilot option with CE name to allow matching of SAM jobs.</li>
<li>Watchdog - set LocalJobID in the SGE case</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p5">
<h1>Version v6r3p5</h1>
<div class="section" id="id843">
<h2>Core:</h2>
<div class="section" id="id844">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool - bug making TaskAgents hang after max cycles</li>
<li>Graphs - proper handling plots with data containing empty string labels</li>
<li>GateWay - transfers were using an old API</li>
<li>GateWay - properly calculate the gateway URL</li>
<li>Utilities/Pfn.py - bug in pfnunparse() when concatenating Path and FileName</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id845">
<h2>Accounting</h2>
<div class="section" id="id846">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataCache - set daemon the datacache thread</li>
<li>BasePlotter - proper handling of the Petabyte scale data</li>
</ul>
</blockquote>
</div>
<div class="section" id="id847">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ReportGenerator - make AccountingDB readonly</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id848">
<h2>DMS:</h2>
<div class="section" id="id849">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent, RegistrationTask - typos</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p4">
<h1>Version v6r3p4</h1>
<div class="section" id="id850">
<h2>DMS:</h2>
<div class="section" id="id851">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - wrong value for failback in TA:execute</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p3">
<h1>Version v6r3p3</h1>
<div class="section" id="id852">
<h2>Configuration</h2>
<div class="section" id="id853">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Operations helper - typo</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id854">
<h2>DMS:</h2>
<div class="section" id="id855">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - change the way of redirecting request to task</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p2">
<h1>Version v6r3p2</h1>
<div class="section" id="id856">
<h2>DMS</h2>
<div class="section" id="id857">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - updating metadata for accouting when finalizing FTS requests</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id858">
<h2>Core</h2>
<div class="section" id="id859">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DIRAC/__init__.py - default version is set to v6r3</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p1">
<h1>Version v6r3p1</h1>
<div class="section" id="id860">
<h2>WMS</h2>
<div class="section" id="id861">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Use ResourcesStatus and Resources helpers in the InputDataAgent logic</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id862">
<h2>Configuration</h2>
<div class="section" id="id863">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>added getStorageElementOptions in Resources helper</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id864">
<h2>DMS</h2>
<div class="section" id="id865">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>resourceStatus object created in TransferAgent instead of StrategyHandler</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3">
<h1>Version v6r3</h1>
<div class="section" id="id866">
<h2>Core</h2>
<div class="section" id="id867">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added protections due to the process pool usage in the locking logic</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id868">
<h2>Resources</h2>
<div class="section" id="id869">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - reduce the number of retries: LFC_CONRETRY = 5 to avoid combined catalog to be stuck on a faulty LFC server</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id870">
<h2>RSS</h2>
<div class="section" id="id871">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceStatus - reworked helper to keep DB connections</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id872">
<h2>DMS</h2>
<div class="section" id="id873">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager::CatalogBase::_callFileCatalogFcnSingleFile() - wrong argument</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id874">
<h2>RequestManagement</h2>
<div class="section" id="id875">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskAgents - set timeOut for task to 10 min (15 min)</li>
</ul>
</blockquote>
</div>
<div class="section" id="id876">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TaskAgents - fill in Error fields in case of failing operations</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id877">
<h2>Interfaces</h2>
<div class="section" id="id878">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-select-jobs - wrong use of the Dirac API</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p9">
<h1>Version v6r2p9</h1>
<div class="section" id="id879">
<h2>Core</h2>
<div class="section" id="id880">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - make use of getSEsForSite() method to determine LocalSEs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id881">
<h2>WMS</h2>
<div class="section" id="id882">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Matcher - add Stalled to &quot;Running&quot; Jobs when JobLimits are applied</li>
<li>JobDB - allow to specify required platform as Platform JDL parameter, the specified platform is taken into account even without /Resources/Computing/OSCompatibility section</li>
</ul>
</blockquote>
</div>
<div class="section" id="id883">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DownloadInputData,InputDataByProtocol - check Files on Tape SEs are on Disk cache before Download or getturl calls from Wrapper</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id884">
<h2>DMS</h2>
<div class="section" id="id885">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskAgents - fix for non-existing files</li>
<li>change verbosity in failoverReplication</li>
<li>FileCatalog - remove properly metadata indices</li>
<li>FileManagerBase - bugfix in the descendants evaluation logic</li>
<li>TransferAgent and TransferTask - update Files.Status to Failed when ReplicaManager.replicateAndRegister will fail completely; when no replica is available at all.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id886">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-allow(ban)-se - removed lhcb-grid email account by default, and added switch to avoid sending email</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id887">
<h2>Core</h2>
<div class="section" id="id888">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-pilot - default lcg bindings version set to 2012-02-20</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p8">
<h1>Version v6r2p8</h1>
<div class="section" id="id889">
<h2>DMS:</h2>
<div class="section" id="id890">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - fallback to task execution if replication tree is not found</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p7">
<h1>Version v6r2p7</h1>
<div class="section" id="id891">
<h2>WMS</h2>
<div class="section" id="id892">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - wrong CS option use: BundleProxy -&gt; HttpProxy</li>
<li>SiteDirector - use short lines in compressed/encoded files in the executable python script</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p6">
<h1>Version v6r2p6</h1>
<div class="section" id="id893">
<h2>DataManagement</h2>
<div class="section" id="id894">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Bad logic in StrategyHandler:MinimiseTotalWait</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id895">
<h2>Core</h2>
<div class="section" id="id896">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>updated GGUS web portal URL</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id897">
<h2>RSS</h2>
<div class="section" id="id898">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>meta key cannot be reused, it is popped from dictionary</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id899">
<h2>Framework</h2>
<div class="section" id="id900">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>The Gateway service does not have a handler</li>
<li>distribution notes allow for word wrap</li>
</ul>
</blockquote>
</div>
<div class="section" id="id901">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ConfingTemplate entry for Gateway</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id902">
<h2>WorkloadManagement</h2>
<div class="section" id="id903">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>avoid unnecessary call if no LFN is left in one of the SEs</li>
<li>When Uploading job outputs, try first Local SEs, if any</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p5">
<h1>Version v6r2p5</h1>
<div class="section" id="id904">
<h2>RSS</h2>
<div class="section" id="id905">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>several minor bug fixes</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id906">
<h2>RequestManagement</h2>
<div class="section" id="id907">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - removed unnecessary request type check</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id908">
<h2>DMS</h2>
<div class="section" id="id909">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClienctCLI - wrong evaluation of the operation in the find command</li>
<li>ReplicaManager - wrong operation order causing failure of UploadLogFile module</li>
</ul>
</blockquote>
</div>
<div class="section" id="id910">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - added possibility to remove specified metadata for a given path</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id911">
<h2>Core</h2>
<div class="section" id="id912">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - generate cshrc DIRAC environment setting file for the (t)csh</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id913">
<h2>Interfaces</h2>
<div class="section" id="id914">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Job - added InputData to each element in the ParametricInputData</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id915">
<h2>WMS</h2>
<div class="section" id="id916">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-jobexec - pass ParametericInputData to the workflow as a semicolon separated string</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p4">
<h1>Version v6r2p4</h1>
<div class="section" id="id917">
<h2>WMS</h2>
<div class="section" id="id918">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - protection against jobs with no PilotReference in their parameters</li>
<li>WMSAdministratorHandler - wrong argument type specification for getPilotInfo method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id919">
<h2>StorageManagement</h2>
<div class="section" id="id920">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestFinalizationAgent - no method existence check when calling RPC method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p3">
<h1>Version v6r2p3</h1>
<div class="section" id="id921">
<h2>WMS</h2>
<div class="section" id="id922">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Matcher - fixed the credentials check in requestJob() to simplify it</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="configurationsystem">
<h2>ConfigurationSystem</h2>
<div class="section" id="id923">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Operations helper - fix that allow no VO to be defined for components that do not need it</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id924">
<h2>Core</h2>
<div class="section" id="id925">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - when applying runsvctrl to a list of components make sure that the config server is treated first and the sysadmin service - last</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p2">
<h1>Version v6r2p2</h1>
<div class="section" id="id926">
<h2>WMS</h2>
<div class="section" id="id927">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Matcher - restored logic for checking private pilot asking for a given DN for belonging to the same group with JOB_SHARING property.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p1">
<h1>Version v6r2p1</h1>
<div class="section" id="requestmanagementsystem">
<h2>RequestManagementSystem</h2>
<div class="section" id="id928">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestCleaningAgent - missing import of the &quot;second&quot; interval definition</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2">
<h1>Version v6r2</h1>
<div class="section" id="general">
<h2>General</h2>
<div class="section" id="id929">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>replaced use of exec() python statement in favor of object method execution</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id930">
<h2>Accounting</h2>
<div class="section" id="id931">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Accounting 'byte' units are in powers of 1000 instead of powers of 1024 (closes #457)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id932">
<h2>Core</h2>
<div class="section" id="id933">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DISET Clients are now thread-safe. Same clients used twice in different threads was not closing the previous connection</li>
<li>TransferClient closes connections properly</li>
<li>DISET Clients are now thread-safe. Same client used twice in different threads will not close the previous connection</li>
<li>dirac-install - execute dirac-fix-mysql-script, if available, to fix the mysql.server startup script</li>
<li>dirac-distribution - Changed obsoleted tar.list file URL</li>
<li>typo in dirac-admin-add-host in case of error</li>
</ul>
</blockquote>
</div>
<div class="section" id="id934">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Pfn.py - pfnparse function rewritten for speed up and mem usage, unit test case added</li>
<li>Beautification and reduce wait times to improve performance</li>
<li>Add deprecated sections in the CS Operations helper to ease the transition</li>
<li>dirac-admin-allow(ban)-se - use diracAdmin.sendMail() instead of NotificationClient.sendMail()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id935">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>reduce wait times in DISET protocol machinery to improve performance</li>
<li>dirac-fix-mysql-script command to fix the mysql start-up script for the given installation</li>
<li>ProcessPool - added functionality to kill all children processes properly when destroying ProcessPool objects</li>
<li>CS Helper for LocalSite section, with gridEnv method</li>
<li>Grid module will use Local.gridEnv if nothing passed in the arguments</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id936">
<h2>Framework</h2>
<div class="section" id="id937">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>UserProfileDB - no more use of &quot;type&quot; variable as it is a reserved keyword</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id938">
<h2>RequestManagement:</h2>
<div class="section" id="id939">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBFile - more consistent treatment of requestDB Path</li>
<li>RequestMySQL - Execution order is evaluated based on not Done state of subrequests</li>
</ul>
</blockquote>
</div>
<div class="section" id="id940">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RequestCleaningAgent - resetting Assigned requests to Waiting after a configurable period of time</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id941">
<h2>RSS</h2>
<div class="section" id="id942">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CacheFeederAgent - too verbose messages moved to debug instead of info level</li>
<li>fixed a bug preventing RSS clients to connect to the services</li>
<li>Proper services synchronization</li>
<li>Better handling of exceptions due to timeouts in GOCDBClient</li>
<li>RSS.Notification emails are sent again</li>
<li>Commands have been modified to return S_OK, S_ERROR inside the Result dict. This way, policies get a S_ERROR / S_OK object. CacheFeederAgent has been updated accordingly.</li>
<li>allow clients, if db connection fails, to reconnect ( or at least try ) to the servers.</li>
<li>MySQLMonkey - properly escaped all parameters of the SQL queries, other fixes.</li>
<li>Minor bugfixes spotted on the Web development</li>
<li>Removed useless decorator from RSS handlers</li>
<li>_checkFloat() checks INTEGERS, not datetimes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id943">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RSS Action now inherits from a base class, and Actions are more homogeneous, they all take a uniform set of arguments. The name of modules has been changed from PolType to Action as well.</li>
<li>access control using CS Authentication options. Default is SiteManager, and get methods are all.</li>
<li>ResourceStatus helper tool moved to RSS/Client directory, no RSS objects created if the system is InActive</li>
<li>Removed ClientFastDec decorator, using a more verbose alternative.</li>
<li>Removed useless usage of kwargs on helper functions.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id944">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CleanerAgent renamed to CacheCleanerAgent</li>
<li>Updated RSS scripts, to set element statuses and / or tokens.</li>
<li>Added a new script, dirac-rss-synch</li>
<li>added getSESitesList method to RSSClient</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id945">
<h2>DataManagement</h2>
<div class="section" id="id946">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-user-lfns - fixed the case when the baseDir is specified</li>
<li>FTS testing scripts were using sys.argv and getting confused if options are passed</li>
<li>DFC - avoid crash if no directories or files found in metadata query</li>
<li>FTSMonitor, FTSRequest - fixes in handling replica registration, setting registration requests in FileToCat table for later retry</li>
<li>Failover registration request in the FTS agents.</li>
<li>FTSMonitor - enabled to register new replicas if even the corresponding request were removed from the RequestManagement</li>
<li>StorageElement - check if SE has been properly initialized before executing any method</li>
<li>LFC client - protect against getting None in lfc.lfc_readdirxr( oDirectory, &quot;&quot; )</li>
<li>add extra protection in dump method of StorageElement base class</li>
</ul>
</blockquote>
</div>
<div class="section" id="id947">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>refactoring of DMS agents executing requests, allow requests from arbitrary users</li>
<li>DFC - optimization of the directory size evaluation</li>
<li>DFC - getCatalogCounters() update to show numbers of directories</li>
<li>LFC client getReplica() - make use of the new bulk method lfc.lfc_getreplicasl()</li>
<li>FailoverTransfer - create subrequest per catalog if more than one catalog</li>
</ul>
</blockquote>
</div>
<div class="section" id="id948">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DFC - allow to specify multiple replicas, owner, mode when adding files</li>
<li>Added CREATE TEMPORARY TABLES privilege to FileCatalogDB</li>
<li>lfc_dfc_copy script to migrate data from LFC to DFC</li>
<li>DFC - use DirectoryUsage tables for the storage usage evaluations</li>
<li>DFC - search by metadata can be limited to a given directory subtree</li>
<li>DFC - search by both directory and file indexed metadata</li>
<li>DFC FileCatalogHandler - define database location in the configuration</li>
<li>DFC - new FileCatalogFactory class, possibility to use named DFC services</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="interface">
<h2>Interface</h2>
<div class="section" id="id949">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - fix some type checking things</li>
<li>Dirac.py - the addFile() method can now register to more than 1 catalog.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id950">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Job.py - added method to handle the parametric parameters in the workflow. They are made available to the workflow_commons via the key 'GenericParameters'.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id951">
<h2>WMS</h2>
<div class="section" id="id952">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>removed dependency of the JobSchedulingAgent on RSS. Move the getSiteTier functionality to a new CS Helper.</li>
<li>WMSAdministratorHandler - Replace StringType by StringTypes in the export methods argument type</li>
<li>JobAgent - Set explicitly UseServerCertificate to &quot;no&quot; for the job executable</li>
<li>SiteDirector passes jobExecDir to pilot, this defaults to &quot;.&quot; for CREAM CEs. It can be set in the CS. It will not make use of $TMPDIR in this case.</li>
<li>Set proper project and release version to the SiteDirector</li>
<li>Added installation as an option to the pilots and random MyProxyServer</li>
</ul>
</blockquote>
</div>
<div class="section" id="id953">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-pilot - change directory to $OSG_WN_TMP on OSG sites</li>
<li>Added &quot;JobDelay&quot; option for the matching, refactored and added CS options to the matcher</li>
<li>Support for parametric jobs with parameters that can be of List type</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id954">
<h2>Resources</h2>
<div class="section" id="id955">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>make sure lfc client will not try to connect for several days</li>
</ul>
</blockquote>
</div>
<div class="section" id="id956">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added SSH Grid Engine Computing Element</li>
<li>Added SSH Computing Element</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id957">
<h2>Transformation</h2>
<div class="section" id="id958">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - in setFileStatusForTransformation() reset ErrorCount to zero if &quot;force&quot; flag and    the new status is &quot;unused&quot;</li>
</ul>
</blockquote>
</div>
<div class="section" id="id959">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - added support for dictionary in metadata for the InputDataQuery mechanism</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p13">
<h1>Version v6r1p13</h1>
<div class="section" id="id960">
<h2>WMS</h2>
<div class="section" id="id961">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobSchedulingAgent - backported from v6r2 use of Resources helper</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p12">
<h1>Version v6r1p12</h1>
<div class="section" id="id962">
<h2>Accounting</h2>
<div class="section" id="id963">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Properly delete cached plots</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id964">
<h2>Core</h2>
<div class="section" id="id965">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - run externals post install after generating the versions dir</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p11">
<h1>Version v6r1p11</h1>
<div class="section" id="id966">
<h2>Core</h2>
<div class="section" id="id967">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-distribution - properly generate releasehistory and releasenotes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id968">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - caches locally the externals and the grid bundle</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p10">
<h1>Version v6r1p10</h1>
<div class="section" id="worloadmanagement">
<h2>WorloadManagement</h2>
<div class="section" id="id969">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobAgent - set UseServerCertificate option &quot;no&quot; for the job executable</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p9">
<h1>Version v6r1p9</h1>
<div class="section" id="id970">
<h2>Core</h2>
<div class="section" id="id971">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - set the proper /DIRAC/Hostname when defining /LocalInstallation/Host</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id972">
<h2>DataManagement</h2>
<div class="section" id="id973">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-user-lfns - fixed the case when the baseDir is specified</li>
<li>dirac-dms-remove-files - fixed crash in case of returned error report in a form of dictionary</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p8">
<h1>Version v6r1p8</h1>
<div class="section" id="id974">
<h2>Web</h2>
<div class="section" id="id975">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>restored Run panel in the production monitor</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id976">
<h2>Resources</h2>
<div class="section" id="id977">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - do not check existence of the catalog client module file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p7">
<h1>Version v6r1p7</h1>
<div class="section" id="id978">
<h2>Web</h2>
<div class="section" id="id979">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixed scroll bar in the Monitoring plots view</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p6">
<h1>Version v6r1p6</h1>
<div class="section" id="id980">
<h2>Core</h2>
<div class="section" id="id981">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferClient closes connections properly</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p5">
<h1>Version v6r1p5</h1>
<div class="section" id="id982">
<h2>Core</h2>
<div class="section" id="id983">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DISET Clients are now thread-safe. Same clients used twice in different threads was not closing the previous connection</li>
</ul>
</blockquote>
</div>
<div class="section" id="id984">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>reduce wait times in DISET protocol machinery to improve performance</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p4">
<h1>Version v6r1p4</h1>
<div class="section" id="id985">
<h2>RequestManagement</h2>
<div class="section" id="id986">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestContainer - in isSubRequestDone() treat special case for subrequests with files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id987">
<h2>Transformation</h2>
<div class="section" id="id988">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - do not clear requests for tasks with no associated jobs</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p3">
<h1>Version v6r1p3</h1>
<div class="section" id="id989">
<h2>Framework</h2>
<div class="section" id="id990">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Define the service location for the monitor</li>
<li>Close some connections that DISET was leaving open</li>
</ul>
</blockquote>
</div>
<div class="section" id="id991">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Pass the monitor down to the request RequestHandler</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p2">
<h1>Version v6r1p2</h1>
<div class="section" id="id992">
<h2>WorkloadManagement</h2>
<div class="section" id="id993">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobSchedulingAgent - use getSiteTiers() with returned direct value and not S_OK</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id994">
<h2>Transformation</h2>
<div class="section" id="id995">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Uniform use of the TaskManager in the RequestTaskAgent and WorkflowTaskAgent</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p1">
<h1>Version v6r1p1</h1>
<div class="section" id="id996">
<h2>RSS</h2>
<div class="section" id="id997">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Alarm_PolType now really send mails instead of crashing silently.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1">
<h1>Version v6r1</h1>
<div class="section" id="id998">
<h2>RSS</h2>
<div class="section" id="id999">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceStatusHandler - getStorageElementStatusWeb(), access mode by default is Read</li>
<li>RSS __init__.py will not crash anymore if no CS info provided</li>
<li>CS.getSiteTier now behaves correctly when a site is passed as a string</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1000">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Major refactoring of the RSS system</li>
<li>DB.ResourceStatusDB has been refactored, making it a simple wrapper round ResourceStatusDB.sql with only four methods by table ( insert, update, get &amp; delete )</li>
<li>DB.ResourceStatusDB.sql has been modified to support different statuses per granularity.</li>
<li>DB.ResourceManagementDB has been refactored, making it a simple wrapper round ResourceStatusDB.sql with only four methods by table ( insert, update, get &amp; delete )</li>
<li>Service.ResourceStatusHandler has been refactored, removing all data processing, making it an intermediary between client and DB.</li>
<li>Service.ResourceManagementHandler has been refactored, removing all data processing, making it an intermediary between client and DB.</li>
<li>Client.ResourceStatusClient has been refactorerd. It connects automatically to DB or to the Service. Exposes DB and booster functions.</li>
<li>Client.ResourceManagementClient has been refactorerd. It connects automatically to DB or to the Service. Exposes DB and booster functions.</li>
<li>Agent.ClientsCacheFeederAgent renamed to CacheFeederAgent. The name was not accurate, as it also feeds Accouting Cache tables.</li>
<li>Agent.InspectorAgent, makes use of automatic API initialization.</li>
<li>Command. refactor and usage of automatic API initialization.</li>
<li>PolicySystem.PEP has reusable client connections, which increase significantly performance.</li>
<li>PolicySystem.PDP has reusable client connections, which increase significantly performance.</li>
<li>Utilities.Synchronizer syncs users and DIRAC sites</li>
<li>cosmetic changes everywhere, added HeadURL and RCSID</li>
<li>Removed all the VOExtension logic on RSS</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1001">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Utilities.ResourceStatusBooster makes use of the 'DB primitives' exposed on the client and does some useful data processing, exposing the new functions on the client.</li>
<li>Utilities.ResourceManagementBooster makes use of the 'DB primitives' exposed on the client and does some useful data processing, exposing the new functions on the client.</li>
<li>Utilities.Decorators are syntactic sugar for DB, Handler and Clients.</li>
<li>Utilities.MySQLMonkey is a mixture of laziness and refactoring, in order to generate the SQL statements automatically. Not anymore sqlStatemens hardcoded on the RSS.</li>
<li>Utilities.Validator are common checks done through RSS modules</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="dirac-setup-site">
<h2>dirac-setup-site</h2>
<div class="section" id="id1002">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixed typos in the Script class name</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1003">
<h2>Transformation</h2>
<div class="section" id="id1004">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Missing logger in the TaskManager Client (was using agent's one)</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1005">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added UnitTest class for TaskManager Client</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="dirac-api">
<h2>DIRAC API</h2>
<div class="section" id="id1006">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py. If /LocalSite/FileCatalog is not define the default Catalog was not properly set.</li>
<li>Dirac.py - fixed __printOutput to properly interpret the first argument: 0:stdout, 1:stderr</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1007">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - added getConfigurationValue() method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1008">
<h2>Framework</h2>
<div class="section" id="id1009">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>UsersAndGroups agent to synchronize users from VOMRS server.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="dirac-install">
<h2>dirac-install</h2>
<div class="section" id="id1010">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>make Platform.py able to run with python2.3 to be used inside dirac-install</li>
<li>protection against the old or pro links pointing to non-existent directories</li>
<li>fixed the logic of creating links to /opt/dirac directories to take into account webRoot subdirs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1011">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>make use of the HTTP proxies if available</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1012">
<h2>WorkloadManagement</h2>
<div class="section" id="id1013">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - change getVO() function call to getVOForGroup()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1014">
<h2>Core:</h2>
<div class="section" id="id1015">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Pfn.py - check the sanity of the pfn and catch the erroneous case</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1016">
<h2>RequestManagement:</h2>
<div class="section" id="id1017">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestContainer.isSubrequestDone() - return 0 if Done check fails</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1018">
<h2>DataManagement</h2>
<div class="section" id="id1019">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - possibility to configure multiple FileCatalog services of the same type</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0p4">
<h1>Version v6r0p4</h1>
<div class="section" id="id1020">
<h2>Framework</h2>
<div class="section" id="id1021">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Define the service location for the monitor</li>
<li>Close some connections that DISET was leaving open</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1022">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Pass the monitor down to the request RequestHandler</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0p3">
<h1>Version v6r0p3</h1>
<div class="section" id="id1023">
<h2>Framework</h2>
<div class="section" id="id1024">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyManager - Registry.groupHasProperties() wasn't returning a result</li>
<li>typo dirac-proxy-info -&gt; dirac-proxy-init in the expiration mail contents</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1025">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Groups without AutoUploadProxy won't receive expiration notifications</li>
<li>DISET - directly close the connection after a failed handshake</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0p2">
<h1>Version v6r0p2</h1>
<div class="section" id="id1026">
<h2>Framework</h2>
<div class="section" id="id1027">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>in services logs change ALWAYS log level for query messages to NOTICE</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0p1">
<h1>Version v6r0p1</h1>
<div class="section" id="id1028">
<h2>Core</h2>
<div class="section" id="id1029">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>List.uniqueElements() preserves the other of the remaining elements</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1030">
<h2>Framework</h2>
<div class="section" id="id1031">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Use all required arguments in read access data for UserProfileDB</li>
<li>NotificationClient - dropped LHCb-Production setup by default in the __getRPSClient()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1032">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>By default set authorization rules to authenticated instead of all</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0">
<h1>Version v6r0</h1>
<div class="section" id="id1033">
<h2>Framework</h2>
<div class="section" id="id1034">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Never use the host certificate if there is one for dirac-proxy-init</li>
<li>ProxyManager - calculate properly the dates for credentials about to expire</li>
<li>Utilities/Security - hash VOMS Attributes as string</li>
<li>Utilities/Security - Generate a chain hash to discover if two chains are equal</li>
<li>SystemAdministrator - Do not set  a default lcg version</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1035">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>By default log level for agents and services is INFO</li>
<li>Disable the log headers by default before initializing</li>
<li>Proxy upload by default is one month with dirac-proxy-upload</li>
<li>ProxyManager will autoexpire old proxies, also auto purge logs</li>
<li>Rename dirac-proxy-upload to dirac-admin-proxy-upload</li>
<li>SecurityLogging - security log level to verbose</li>
<li>SysAdmin CLI - will try to connect to the service when setting the host</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1036">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DISET Framework modified client/server protocol, messaging mechanism to be used for optimizers</li>
<li>move functions in DIRAC.Core.Security.Misc to DIRAC.Core.Security.ProxyInfo</li>
<li>dirac-proxy-init modification according to issue #29: -U flag will upload a long lived proxy to the ProxyManager If /Registry/DefaultGroup is defined, try to generate a proxy that has that group Replaced params.debugMessage by gLogger.verbose. Closes #65 If AutoUploadProxy = true in the CS, the proxy will automatically be uploaded</li>
<li>Added upload of pilot proxies automatically</li>
<li>Print info after creating a proxy</li>
<li>Added setting VOMS extensions automatically</li>
<li>dirac-proxy-info can also print the information of the uploaded proxies</li>
<li>dirac-proxy-init will check that the lifetime of the certificate is less than one month and advise to renew it</li>
<li>dirac-proxy-init will check that the certificate has at least one month of validity</li>
<li>Proxy manager will send notifications when the uploaded proxies are about to expire (configurable via CS)</li>
<li>Now the proxyDB also has a knowledge of user names. Queries can use the user name as a query key</li>
<li>dirac-proxy-init will complain if the user certificate has less than 30 days</li>
<li>OracleDB - added Array type</li>
<li>MySQL - allow definition of the port number in the configuration</li>
<li>Use chain has to discover if it has already been dumped</li>
<li>SystemAdministrator - added Project support for the sysadmin</li>
<li>SysAdmin CLI - colorization of errors in the cli</li>
<li>Logger - added showing the thread id in the logger if enabled</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1037">
<h2>Configuration</h2>
<div class="section" id="id1038">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CE2CSAgent - update the CEType only if there is a relevant info in the BDII</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1039">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>added getVOfromProxyGroup() utility</li>
<li>added getVoForGroup() utility, use it in the code as appropriate</li>
<li>added Registry and Operations Configuration helpers</li>
<li>dirac-configuration-shell - a configuration script for CS that behaves like an UNIX shellCHANGE: CSAPI - added more functionality required by updated configuration console</li>
<li>Added possibility to define LocalSE to any Site using the SiteLocalSEMapping section on the Operations Section</li>
<li>introduce Registry/VO section, associate groups to VOs, define SubmitPools per VO</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="releasemanagement">
<h2>ReleaseManagement</h2>
<div class="section" id="id1040">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Install tools won't write HostDN to the configuration if the Admin username is not set</li>
<li>Properly set /DIRAC/Configuration/Servers when installing a CS Master</li>
<li>install_site.sh - missing option in wget for https download: --no-check-certificate</li>
<li>dirac-install-agent(service) - If the component being installed already has corresponding CS section, it is not overwritten unless explicitly asked for</li>
<li>dirac-install - define DYLD_LIBRARY_PATH ( for Mac installations )</li>
<li>dirac-install - Properly search for the LcgVer</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1041">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - write the defaults if any under defaults-.cfg so dirac-configure can pick it up</li>
<li>use new dirac_install from gothub/integration branch in install_site.sh</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1042">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>release preparations and installation tools based on installation packages</li>
<li>dirac-compile-externals will try go get a DIRAC-free environment before compiling</li>
<li>dirac-disctribution - upload command can be defined via defaults file</li>
<li>dirac-disctribution - try to find if the version name is a branch or a tag in git and act accordingly</li>
<li>dirac-disctribution - added keyword substitution when creating a a distribution from git</li>
<li>dirac-install functionality enhancement: start using the switches as defined in issue #26;</li>
<li>dirac-install - put all the goodness under a function so scripts like lhcb-proxy-init can use it easily</li>
<li>dirac-install will write down the releases files in -d mode</li>
<li>Extensions can request custom external dependencies to be installed via pip when installing DIRAC.</li>
<li>LCG bundle version can be defined on a per release basis in the releases.cfg</li>
<li>dirac-deploy-scripts - when setting the lib path in the deploy scripts. Also search for subpaths of the libdir and include them</li>
<li>Install tools - plainly separate projects from installations</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1043">
<h2>Accounting</h2>
<div class="section" id="id1044">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Modified buckets width of 1week to 1 week + 1 day to fix summer time end week (1 hour more )</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1045">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>For the WMSHistory type, send as JobSplitType the JobType</li>
<li>Reduced the size of the max key length to workaround mysql max bytes for index problem</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1046">
<h2>WorkloadManagement</h2>
<div class="section" id="id1047">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - do not download pilot output if the flag getPilotOutput is not set</li>
<li>SSHTorque - retrieve job status by chunks of 100 jobs to avoid too long</li>
<li>JobDB - properly treat Site parameter in the job JDL while rescheduling jobs</li>
<li>PBSTimeLeft - proper handling of (p)cput parameter in the batch system output, recovery of the incomplete batch system output</li>
<li>ComputingElement - fixed proxy renewal logic for generic and private pilots</li>
<li>DownloadInputData - bug fixed in the naming of downloaded files</li>
<li>Matcher - set the group and DN when a request gets to the matcher if the request is not coming from a pilot</li>
<li>Matcher = take into account JobSharing when checking the owner for the request</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1048">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - simplified executable generation</li>
<li>TimeLeft - call batch system commands with the ( default ) timeout 120 sec</li>
<li>PBSTimeLeft - uses default CPU/WallClock if not present in the output</li>
<li>PilotDirector, dirac-pilot - interpret -V flag of the pilot as Installation name</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1049">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - few more checks of error conditions</li>
<li>SiteDirector - limit the queue max length to the value of MaxQueueLengthOption ( 3 days be default )</li>
<li>JobDB will extract the VO when applying DIRAC/VOPolicy from the proper VO</li>
<li>glexecComputingElement - allow glexecComputingElement to &quot;Reschedule&quot; jobs if the Test of the glexec fails, instead of defaulting to InProcess. Controlled by RescheduleOnError Option of the glexecComputingElement</li>
<li>SandboxStore - create a different SBPath with the group included</li>
<li>JobSchedulingAgent - set the job Site attribute to the name of a group of sites corresponding to a SE chosen by the data staging procedure</li>
<li>automatically add SubmitPools JDL option of the job owner's VO defines it</li>
<li>JobManager - add MaxParametericJobs option to the service configuration</li>
<li>PilotDirector - each SubmitPool or Middleware can define TargetGrids</li>
<li>JobAgent - new StopOnApplicationFailure option to make the agent exiting the loop on application failure</li>
<li>PilotAgentsDB - on demand retrieval of the CREAM pilot output</li>
<li>Pilot - proper job ID evaluation for the OSG sites</li>
<li>JDL - added %j placeholder in the JDL to be replaced by the JobID</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1050">
<h2>DataManagement</h2>
<div class="section" id="id1051">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog/DiractoryLevelTree - consistent application of the max directory level using global MAX_LEVELS variable</li>
<li>FileCatalog - Directory metadata is deleted together with the directory deletion, issue #40</li>
<li>LcgFileCatalog - use lfcthr and call lfcthr.init() to allow multithread try the import only once and just when LcgFileCatalogClient class is intantiated</li>
<li>StorageElement - get service CS options with getCSOption() method ( closes #97 )</li>
<li>retrieve FileCatalogs as ordered list, to have a proper default.</li>
<li>FileCatalog - bug fixes in the directory removal methods (closes #98)</li>
<li>RemovalAgent - TypeError when getting JobID in RemovalAgent</li>
<li>RemovalAgent - put a limit to be sure the execute method will end after a certain number of iterations</li>
<li>DownloadInputData - when files have been uploaded with lcg_util, the PFN filename might not match the LFN file name</li>
<li>putting FTSMonitor web page back</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1052">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - the logic of the files query by metadata revisited to increase efficiency</li>
<li>FileCatalog - allow up to 15 levels of directories</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1053">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - new version of getPathPermissions relying on the lfc_access method to solve the problem of multiple user DNs in LFC.</li>
<li>The default file catalog is now determined using /LocalSite/FileCatalog. The old behavior is provided as a fallback solution</li>
<li>ReplicaManager - can now deal with multiple catalogs. Makes sure the surl used for removal is the same as the one used for registration.</li>
<li>PoolXMLCatalog - added getTypeByPfn() function to get the type of the given PFN</li>
<li>dirac-dms-ban(allow)-se - added possibility to use CheckAccess property of the SE</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1054">
<h2>StorageManagement</h2>
<div class="section" id="id1055">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Stager - updateJobFromStager(): only return S_ERROR if the Status sent is not recognized or if a state update fails. If the jobs has been removed or has moved forward to another status, the Stager will get an S_OK and should forget about the job.</li>
<li>Requests older than 1 day, which haven't been staged are retried. Tasks older than &quot;daysOld&quot; number of days are set to Failed. These tasks have already been retried &quot;daysOld&quot; times for staging.</li>
<li>CacheReplicas and StageRequests records are kept until the pin has expired. This way the StageRequest agent will have proper accounting of the amount of staged data in cache.</li>
<li>Update Stager code in v6 to the same point as v5r13p37</li>
<li>StorageManager - avoid race condition by ensuring that Links=0 in the query while removing replicas</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1056">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>new option in the StorageElement configuration &quot;CheckAccess&quot;</li>
<li>FTSCleaningAgent will allow to fix transient errors in RequestDB. At the moment it's only fixing Requests for which SourceTURL is equal to TargetSURL.</li>
<li>Stager - added new command dirac-stager-stage-files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1057">
<h2>RequestManagement</h2>
<div class="section" id="id1058">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBFile - get request in chronological order (closes issue #84)</li>
<li>RequestDBFile - make getRequest return value for getRequest the same as for</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1059">
<h2>ResourceStatusSystem</h2>
<div class="section" id="id1060">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Cleaned RSS scripts, they are still prototypes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1061">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>command caller looks on the extension for commands.</li>
<li>RSS use now the CS instead of getting info from Python modules.</li>
<li>PEP actions now reside in separate modules outside PEP module.</li>
<li>Updating various RSS tests to make them compatible with changes in the system.</li>
<li>Mostly trivial changes, typos, etc in various files in RSS</li>
<li>TokenAgent sends e-mails with current status</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1062">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Major code refacoring. First refactoring of RSS's PEP. Actions are now function defined in modules residing in directory &quot;Actions&quot;.</li>
<li>methods to store cached environment on a DB and ge them.</li>
<li>RSS CS module add facilities to extract info from CS.</li>
<li>CS is used instead of ad-hoc configuration module in most places.</li>
<li>Adding various helper functions in RSS Utils module. These are functions used by RSS developers, including mainly myself, and are totally independant from the rest of DIRAC.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1063">
<h2>Transformation</h2>
<div class="section" id="id1064">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - not removing task when site is not set</li>
<li>TransformationCleaningAgent - archiving instead of cleaning Removal and Replication transformations</li>
<li>TransformationCleaningAgent - kill jobs before deleting them</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1065">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>allow Target SE specification for jobs, Site parameter is not set in this case</li>
<li>TransformationAgent  - add new file statuses in production monitoring display</li>
<li>TransformationAgent - limit the number of files to be treated in TransformationAgent for replication and removal (default 5000)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="workflow">
<h2>Workflow</h2>
<div class="section" id="id1066">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>allow modules to define Input and Output parameters that can be used instead of the step_commons/workflow_commons (Workflow.py, Step.py, Module.py)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="various-fixes">
<h2>Various fixes</h2>
<div class="section" id="id1067">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Mail.py uses SMTP class rather than inheriting it</li>
<li>Platform utility will properly discover libc version even for the new Ubuntu</li>
<li>Removed old sandbox and other obsoleted components</li>
</ul>
</blockquote>
</div>
</div>
</div>
</div>
</body>
</html>
